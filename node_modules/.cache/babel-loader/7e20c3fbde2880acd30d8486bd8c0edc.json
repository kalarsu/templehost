{"ast":null,"code":"var _jsxFileName = \"/Users/chisu/Sites/templehost/src/components/App.js\";\nimport React, { Component } from 'react';\nimport '../css/styles.css';\nimport HostHeader from './HostHeader';\nimport HostSummary from './HostSummary';\nimport HostAttendantSummary from './HostAttendantSummary';\nimport HostAttendRate from './HostAttendRate';\nimport HostAttendantByTemple from './HostAttendantByTemple';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      event: \"\",\n      eventName: \"\",\n      eventDate: \"\",\n      classMemberText: \"\",\n      tolRquired: 0,\n      tolSignin: 0,\n      tolSigninHost: 0,\n      tolSigninAHost: 0,\n      tolSigninDeClass: 0,\n      tolSigninOthers: 0,\n      tolSigninClassMember: 0,\n      age: 0,\n      gender: \"\",\n      tolMale: 0,\n      tolFemale: 0,\n      tolBoy: 0,\n      tolGirl: 0,\n      requiredArr: [],\n      signinArr: [],\n      zanDe: [],\n      henDe: [],\n      tonDe: [],\n      zenDe: [],\n      zuDe: [],\n      minDe: [],\n      sanDe: [],\n      hanDe: [],\n      zanWa: [],\n      otherTemple: [],\n      xingMing: [],\n      zhiShan: [],\n      peiDe: [],\n      xingDe: [],\n      chongDe: [],\n      requiredObj: {},\n      signinObj: {},\n      vowToBeObj: {},\n      classMember: \"\",\n      zanDeReq: 0,\n      henDeReq: 0,\n      tonDeReq: 0,\n      zenDeReq: 0,\n      zuDeReq: 0,\n      minDeReq: 0,\n      sanDeReq: 0,\n      hanDeReq: 0,\n      zanWaReq: 0,\n      othersReq: 0,\n      zanDeSignin: 0,\n      henDeSignin: 0,\n      tonDeSignin: 0,\n      zenDeSignin: 0,\n      zuDeSignin: 0,\n      minDeSignin: 0,\n      sanDeSignin: 0,\n      hanDeSignin: 0,\n      zanWaSignin: 0,\n      othersSignin: 0,\n      templeLastIndex: 0,\n      templeList: [] //templeListObj: {\"沾德\": 0, \"恆德\": 1, \"同德\": 2, \"正德\": 3, \"儒德\": 4, \"明德\": 5, \"聖德\": 6, \"涵德\": 7, \"贊化\": 8, \"其它\": 9}\n      // classList: [\n      // \t[\"xingMing\", [], \"新民班\",0,0,0,0],\n      // \t[\"zhiShan\", [], \"至善班\",0,0,0,0],\n      // \t[\"peiDe\", [], \"培德班\",0,0,0,0],\n      // \t[\"xingDe\", [], \"行德班\",0,0,0,0],\n      // \t[\"chongDe\", [], \"崇德班\",0,0,0,0]\n      // ],\n      // classListObj: {\"新民班\": 0, \"至善班\": 1, \"培德班\": 2, \"行德班\": 3, \"崇德班\": 4}\n\n    }; //classList[]   //tolReq乾，tolReq坤, tolSignin乾，tolSign坤\t\n\n    this.getTempleList = this.getTempleList.bind(this);\n    this.getUrlParam = this.getUrlParam.bind(this);\n    this.getJsonData = this.getJsonData.bind(this);\n    this.getDataSource = this.getDataSource.bind(this);\n    this.checkVows = this.checkVows.bind(this);\n    this.checkIfSignin = this.checkIfSignin.bind(this);\n    this.checkIfClassMember = this.checkIfClassMember.bind(this);\n    this.jsonToObj = this.jsonToObj.bind(this);\n    this.checkGradClass = this.checkGradClass.bind(this);\n    this.genAttendanceSummary = this.genAttendanceSummary.bind(this);\n    this.genReqListByTemple = this.genReqListByTemple.bind(this);\n    this.genHostAttendRate = this.genHostAttendRate.bind(this);\n  }\n\n  genHostAttendRate() {\n    const _templeList = this.state.templeList;\n    let key;\n\n    for (key in _templeList) {\n      console.log(_templeList[key][2]);\n    }\n\n    const template = Object.keys(_templeList).map(key => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, _templeList[key][2]);\n    });\n    console.log(\"template=\" + template);\n  }\n\n  genReqListByTemple(callback) {\n    let signin, id, name, gender, temple, vow;\n    let zanDe = [],\n        henDe = [],\n        tonDe = [],\n        zenDe = [],\n        zuDe = [],\n        minDe = [],\n        sanDe = [],\n        hanDe = [],\n        zanWa = [],\n        otherTemple = [];\n    const _requiredArr = this.state.requiredArr;\n\n    _requiredArr.forEach((element, index) => {\n      id = element[0];\n      name = element[1];\n      gender = element[2];\n      temple = element[3];\n      vow = element[4];\n      signin = this.checkIfSignin(id);\n\n      if (temple !== undefined) {\n        //console.log(\"vow=\"+ vow);\n        switch (temple.substr(0, 2)) {\n          case \"沾德\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.zanDe[2]++;\n              if (signin === \"yes\") templeList.zanDe[3]++;\n            }\n\n            if (signin === \"yes\") {\n              if (vow === \"1master\" || vow === \"2lecturer\" || vow === \"3host\") templeList.zanDe[4]++;\n              if (vow === \"4ahost\") templeList.zanDe[5]++;\n              if (vow === \"5declass\") templeList.zanDe[6]++;\n              if (vow === \"6others\") templeList.zanDe[7]++;\n            }\n\n            zanDe.push({\n              [id]: [name, gender, vow, signin]\n            });\n            break;\n\n          case \"恆德\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.henDe[2]++;\n              if (signin === \"yes\") templeList.henDe[3]++;\n            }\n\n            if (signin === \"yes\") {\n              if (vow === \"1master\" || vow === \"2lecturer\" || vow === \"3host\") templeList.henDe[4]++;\n              if (vow === \"4ahost\") templeList.henDe[5]++;\n              if (vow === \"5declass\") templeList.henDe[6]++;\n              if (vow === \"6others\") templeList.henDe[7]++;\n            }\n\n            henDe.push({\n              [id]: [name, gender, vow, signin]\n            });\n            break;\n\n          case \"同德\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.tonDe[2]++;\n              if (signin === \"yes\") templeList.tonDe[3]++;\n            }\n\n            if (signin === \"yes\") {\n              if (vow === \"1master\" || vow === \"2lecturer\" || vow === \"3host\") templeList.tonDe[4]++;\n              if (vow === \"4ahost\") templeList.tonDe[5]++;\n              if (vow === \"5declass\") templeList.tonDe[6]++;\n              if (vow === \"6others\") templeList.tonDe[7]++;\n            }\n\n            tonDe.push({\n              [id]: [name, gender, vow, signin]\n            });\n            break;\n\n          case \"正德\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.zenDe[2]++;\n              if (signin === \"yes\") templeList.zenDe[3]++;\n            }\n\n            if (signin === \"yes\") {\n              if (vow === \"1master\" || vow === \"2lecturer\" || vow === \"3host\") templeList.zenDe[4]++;\n              if (vow === \"4ahost\") templeList.zenDe[5]++;\n              if (vow === \"5declass\") templeList.zenDe[6]++;\n              if (vow === \"6others\") templeList.zenDe[7]++;\n            }\n\n            zenDe.push({\n              [id]: [name, gender, vow, signin]\n            }); //console.log(name, gender, vow, signin);\n\n            break;\n\n          case \"儒德\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.zuDe[2]++;\n              if (signin === \"yes\") templeList.zuDe[3]++;\n            }\n\n            if (signin === \"yes\") {\n              if (vow === \"1master\" || vow === \"2lecturer\" || vow === \"3host\") templeList.zuDe[4]++;\n              if (vow === \"4ahost\") templeList.zuDe[5]++;\n              if (vow === \"5declass\") templeList.zuDe[6]++;\n              if (vow === \"6others\") templeList.zuDe[7]++;\n            }\n\n            zuDe.push({\n              [id]: [name, gender, vow, signin]\n            });\n            break;\n\n          case \"明德\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.minDe[2]++;\n              if (signin === \"yes\") templeList.minDe[3]++;\n            }\n\n            if (signin === \"yes\") {\n              if (vow === \"1master\" || vow === \"2lecturer\" || vow === \"3host\") templeList.minDe[4]++;\n              if (vow === \"4ahost\") templeList.minDe[5]++;\n              if (vow === \"5declass\") templeList.minDe[6]++;\n              if (vow === \"6others\") templeList.minDe[7]++;\n            }\n\n            minDe.push({\n              [id]: [name, gender, vow, signin]\n            });\n            break;\n\n          case \"聖德\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.sanDe[2]++;\n              if (signin === \"yes\") templeList.sanDe[3]++;\n            }\n\n            if (signin === \"yes\") {\n              if (vow === \"1master\" || vow === \"2lecturer\" || vow === \"3host\") templeList.sanDe[4]++;\n              if (vow === \"4ahost\") templeList.sanDe[5]++;\n              if (vow === \"5declass\") templeList.sanDe[6]++;\n              if (vow === \"6others\") templeList.sanDe[7]++;\n            }\n\n            sanDe.push({\n              [id]: [name, gender, vow, signin]\n            });\n            break;\n\n          case \"涵德\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.hanDe[2]++;\n              if (signin === \"yes\") templeList.hanDe[3]++;\n            }\n\n            if (signin === \"yes\") {\n              if (vow === \"1master\" || vow === \"2lecturer\" || vow === \"3host\") templeList.hanDe[4]++;\n              if (vow === \"4ahost\") templeList.hanDe[5]++;\n              if (vow === \"5declass\") templeList.hanDe[6]++;\n              if (vow === \"6others\") templeList.hanDe[7]++;\n            }\n\n            hanDe.push({\n              [id]: [name, gender, vow, signin]\n            });\n            break;\n\n          case \"贊化\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.zanWa[2]++;\n              if (signin === \"yes\") templeList.zanWa[3]++;\n            }\n\n            if (signin === \"yes\") {\n              if (vow === \"1master\" || vow === \"2lecturer\" || vow === \"3host\") templeList.zanWa[4]++;\n              if (vow === \"4ahost\") templeList.zanWa[5]++;\n              if (vow === \"5declass\") templeList.zanWa[6]++;\n              if (vow === \"6others\") templeList.zanWa[7]++;\n            }\n\n            zanWa.push({\n              [id]: [name, gender, vow, signin]\n            });\n            break;\n\n          default:\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.otherTemple[2]++;\n              if (signin === \"yes\") templeList.otherTemple[3]++;\n            }\n\n            if (signin === \"yes\") {\n              if (vow === \"1master\" || vow === \"2lecturer\" || vow === \"3host\") templeList.otherTemple[4]++;\n              if (vow === \"4ahost\") templeList.otherTemple[5]++;\n              if (vow === \"5declass\") templeList.otherTemple[6]++;\n              if (vow === \"6others\") templeList.otherTemple[7]++;\n            }\n\n            otherTemple.push({\n              [id]: [name, gender, vow, signin]\n            });\n            console.log(\"req others temple:\" + name + temple);\n        } //end of switch\n\n      } //end of if\n\n    }); //end of forEach\n    //console.log(\"templeList\"+templeList.zenDe);\n\n\n    this.setState({\n      templeList: templeList\n    });\n    callback();\n  }\n\n  genAttendanceSummary(gender) {\n    switch (gender) {\n      case \"乾\":\n        this.setState({\n          tolMale: this.state.tolMale + 1\n        });\n        break;\n\n      case \"坤\":\n        this.setState({\n          tolFemale: this.state.tolFemale + 1\n        });\n        break;\n\n      case \"童\":\n        this.setState({\n          tolBoy: this.state.tolBoy + 1\n        });\n        break;\n\n      case \"女\":\n        this.setState({\n          tolGirl: this.state.tolGirl + 1\n        });\n        break;\n\n      default:\n        break;\n    }\n\n    this.setState({\n      tolSignin: this.state.tolSignin + 1\n    });\n  }\n\n  getDataSource() {\n    let signUrl, reqUrl;\n    const event = this.getUrlParam(\"event\");\n    this.setState({\n      event: event\n    });\n\n    if (event === \"temple\") {\n      //Friday \n      signUrl = \"signin5\";\n      reqUrl = \"required5\";\n      this.setState({\n        eventName: \"固本圖強班\",\n        eventDate: \"05.01.2020\",\n        classMemberText: \"壇主、講師、副壇主\",\n        classMember: \"hosts\"\n      });\n    } else if (event === \"host\") {\n      //Saturday\n      signUrl = \"signin6\";\n      reqUrl = \"required6\";\n      this.setState({\n        eventName: \"壇主講師班\",\n        eventDate: \"05.02.2020\",\n        classMemberText: \"壇主、講師、副壇主、德字班道親\",\n        classMember: \"hosts-declass\"\n      });\n    } else {\n      //Sunday \n      signUrl = \"signin7\";\n      reqUrl = \"required7\";\n      this.setState({\n        eventName: \"畢班、人才提拔\",\n        eventDate: \"05.03.2020\",\n        classMemberText: \"2019 年進修班畢班班員\",\n        classMember: \"class-member\"\n      });\n    }\n\n    console.log(\"eventName=\" + event);\n    this.getJsonData(signUrl, signindata => {\n      this.getJsonData(reqUrl, reqdata => {\n        this.setState({\n          requiredObj: this.jsonToObj(\"required\", reqdata),\n          signinObj: this.jsonToObj(\"signin\", signindata)\n        }); // this.genReqListByTemple(()=>{\n        //   this.genHostAttendRate();\n        // });\n      });\n    });\n  }\n\n  jsonToObj(type, data) {\n    let index = 0,\n        classMember = \"\",\n        dataObj = {},\n        dataArr = [],\n        id,\n        name,\n        gender,\n        temple,\n        vow,\n        gradClass;\n    classMember = this.state.classMember;\n    console.log(\"classMember=\" + classMember);\n    const result = data.map(item => {\n      id = item.id;\n      name = item.name;\n      gender = item.gender;\n      temple = item.currentTemple;\n      vow = this.checkVows(type, name, item.vows, item.taoClasses);\n      gradClass = this.checkGradClass(name, item.taoClasses);\n      dataObj[id] = [name, gender, temple, vow, gradClass];\n      dataArr.push([id, name, gender, temple, vow, gradClass]);\n\n      if (type === \"required\") {\n        //班員出席統計 summary section only\n        if (classMember === \"hosts\" && vow !== \"6others\" && vow !== \"5declass\") {\n          //Friday\n          this.setState({\n            tolRquired: this.state.tolRquired + 1\n          });\n        } else if (classMember === \"hosts-declass\" && vow !== \"6others\") {\n          //Saturday hosts + declass\n          this.setState({\n            tolRquired: this.state.tolRquired + 1\n          });\n        } else if (classMember === \"class-member\" && gradClass !== undefined && gradClass !== \"\") {\n          // Sunday \n          this.setState({\n            tolRquired: this.state.tolRquired + 1\n          });\n        } //console.log(\"type:\" + type, \", inde:\"+ ++index + \", currObj=\"+dataObj[id]);\n\n      } else {\n        //type === \"signin\"\n        this.genAttendanceSummary(gender); // upate 活動人數統計 summary\n      }\n\n      return dataArr;\n    });\n\n    if (type === \"required\") {\n      this.setState({\n        requiredArr: dataArr\n      });\n    } //console.log(\"type:\" + type, \", inde:\"+ ++index + \", currObj=\"+dataObj[5]);\n\n\n    return dataObj;\n  }\n\n  checkIfSignin(id) {\n    const _signinObj = this.state.signinObj;\n    return _signinObj[id] && _signinObj[id] !== undefined ? \"yes\" : \"x\";\n  }\n\n  checkIfClassMember(vow, gradeClass) {\n    let classMember = this.state.classMember;\n\n    if (classMember === \"hosts\" && vow !== \"5declass\" && vow !== \"6others\" || classMember === \"hosts-declass\" && vow !== \"6others\" || classMember === \"class-member\" && gradeClass !== \"\" && gradeClass !== undefined) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  checkVows(type, name, vows, taoClasses) {\n    if (vows) {\n      if (vows[\"transmittingMaster\"]) {\n        if (vows[\"transmittingMaster\"].made === true) {\n          if (type === \"signin\") this.setState({\n            tolSigninHost: this.state.tolSigninHost + 1\n          });\n          return \"1master\";\n        }\n\n        ;\n      }\n\n      if (vows[\"lecturer\"]) {\n        if (vows[\"lecturer\"].made === true) {\n          if (type === \"signin\") this.setState({\n            tolSigninHost: this.state.tolSigninHost + 1\n          });\n          return \"2lecturer\";\n        }\n\n        ;\n      }\n\n      if (vows[\"templeHost\"]) {\n        if (vows[\"templeHost\"].made === true) {\n          if (type === \"signin\") this.setState({\n            tolSigninHost: this.state.tolSigninHost + 1\n          });\n          return \"3host\";\n        }\n\n        ;\n      }\n\n      if (vows[\"assistantTempleHost\"]) {\n        if (vows[\"assistantTempleHost\"].made === true) {\n          if (type === \"signin\") this.setState({\n            tolSigninAHost: this.state.tolSigninAHost + 1\n          });\n          return \"4ahost\";\n        }\n\n        ;\n      }\n    }\n\n    if (taoClasses) {\n      if (taoClasses.chongDe && taoClasses.chongDe.completed === true || taoClasses.xingDe && taoClasses.xingDe.completed === true || taoClasses.peiDe && taoClasses.peiDe.completed === true) {\n        if (type === \"signin\") this.setState({\n          tolSigninDeClass: this.state.tolSigninDeClass + 1\n        });\n        return \"5declass\";\n      } else {\n        //others \n        if (type === \"signin\") this.setState({\n          tolSigninOthers: this.state.tolSigninOthers + 1\n        });\n        return \"6others\";\n      }\n    }\n\n    console.log(\"no vow nor declass\" + name + \": \" + vows, taoClasses);\n    return false;\n  }\n\n  checkGradClass(name, taoClasses) {\n    if (taoClasses) {\n      if (taoClasses.chongDe && taoClasses.chongDe.completed === true && taoClasses.chongDe.completionDate) {\n        if (taoClasses.chongDe.completionDate.substr(0, 10) === \"2018-12-09\") return \"5chongDe\";\n      } else if (taoClasses.xingDe && taoClasses.xingDe.completed === true && taoClasses.xingDe.completionDate) {\n        if (taoClasses.xingDe.completionDate.substr(0, 10) === \"2018-12-09\") return \"4xingDe\";\n      } else if (taoClasses.peiDe && taoClasses.peiDe.completed === true && taoClasses.peiDe.completionDate) {\n        if (taoClasses.peiDe.completionDate.substr(0, 10) === \"2018-12-09\") return \"3peiDe\";\n      } else if (taoClasses.zhiShan && taoClasses.zhiShan.completed === true && taoClasses.zhiShan.completionDate) {\n        if (taoClasses.zhiShan.completionDate.substr(0, 10) === \"2018-12-09\") return \"2zhiShan\";\n      } else if (taoClasses.xingMing && taoClasses.xingMing.completed === true && taoClasses.xingMing.completionDate) {\n        if (taoClasses.xingMing.completionDate.substr(0, 10) === \"2018-12-09\") return \"1xingMing\";\n      } else {\n        //others \n        return \"\";\n      }\n    } else {\n      console.log(\"no grad lass\" + name + \": \", taoClasses);\n      return \"\";\n    }\n  }\n\n  getUrlParam(parameter) {\n    let getAction = \"\",\n        url = \"\";\n    url = new URLSearchParams(window.location.search);\n    getAction = url.get(parameter);\n    return getAction;\n  }\n\n  getJsonData(_url, callback) {\n    fetch('./json/' + _url + '.json').then(response => response.json()).then(result => {\n      callback(result);\n    });\n  }\n\n  getTempleList() {\n    fetch('./json/templeList.json').then(response => response.json()).then(restult => {\n      const tempList = result.map(item => {\n        item.temppleId = this.state.templeLastIndex;\n        this.setState({\n          templeLastIndex: this.state.templeLastIndex + 1\n        });\n        return item;\n      });\n      this.setState({\n        templeList: tempList\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.getDataSource();\n    this.getTempleList();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"host-class\",\n      className: \"main-container event-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454\n      },\n      __self: this\n    }, React.createElement(HostHeader, {\n      eventName: this.state.eventName,\n      eventDate: this.state.eventDate,\n      classMemberText: this.state.classMemberText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455\n      },\n      __self: this\n    }), React.createElement(HostSummary, {\n      event: this.state.event,\n      tolRquired: this.state.tolRquired,\n      tolSigninClassMember: this.state.tolSigninHost + this.state.tolSigninAHost + this.state.tolSigninDeClass,\n      tolSigninHost: this.state.tolSigninHost,\n      tolSigninAHost: this.state.tolSigninAHost,\n      tolSigninDeClass: this.state.tolSigninDeClass,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460\n      },\n      __self: this\n    }), React.createElement(HostAttendantSummary, {\n      tolSignin: this.state.tolSignin,\n      tolAdult: this.state.tolMale + this.state.tolFemale,\n      tolChildren: this.state.tolBoy + this.state.tolGirl,\n      tolMale: this.state.tolMale,\n      tolFemale: this.state.tolFemale,\n      tolBoy: this.state.tolBoy,\n      tolGirl: this.state.tolGirl,\n      tolSigninOthers: this.state.tolSigninOthers,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468\n      },\n      __self: this\n    })), React.createElement(HostAttendRate, {\n      templeList: this.state.templeList,\n      requiredArr: this.state.requiredArr,\n      tolSignin: this.state.tolSignin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    }), React.createElement(HostAttendantByTemple, {\n      templeList: this.state.templeList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/chisu/Sites/templehost/src/components/App.js"],"names":["React","Component","HostHeader","HostSummary","HostAttendantSummary","HostAttendRate","HostAttendantByTemple","App","constructor","state","event","eventName","eventDate","classMemberText","tolRquired","tolSignin","tolSigninHost","tolSigninAHost","tolSigninDeClass","tolSigninOthers","tolSigninClassMember","age","gender","tolMale","tolFemale","tolBoy","tolGirl","requiredArr","signinArr","zanDe","henDe","tonDe","zenDe","zuDe","minDe","sanDe","hanDe","zanWa","otherTemple","xingMing","zhiShan","peiDe","xingDe","chongDe","requiredObj","signinObj","vowToBeObj","classMember","zanDeReq","henDeReq","tonDeReq","zenDeReq","zuDeReq","minDeReq","sanDeReq","hanDeReq","zanWaReq","othersReq","zanDeSignin","henDeSignin","tonDeSignin","zenDeSignin","zuDeSignin","minDeSignin","sanDeSignin","hanDeSignin","zanWaSignin","othersSignin","templeLastIndex","templeList","getTempleList","bind","getUrlParam","getJsonData","getDataSource","checkVows","checkIfSignin","checkIfClassMember","jsonToObj","checkGradClass","genAttendanceSummary","genReqListByTemple","genHostAttendRate","_templeList","key","console","log","template","Object","keys","map","callback","signin","id","name","temple","vow","_requiredArr","forEach","element","index","undefined","substr","push","setState","signUrl","reqUrl","signindata","reqdata","type","data","dataObj","dataArr","gradClass","result","item","currentTemple","vows","taoClasses","_signinObj","gradeClass","made","completed","completionDate","parameter","getAction","url","URLSearchParams","window","location","search","get","_url","fetch","then","response","json","restult","tempList","temppleId","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport '../css/styles.css';\nimport HostHeader from './HostHeader';\nimport HostSummary from './HostSummary';\nimport HostAttendantSummary from './HostAttendantSummary';\nimport HostAttendRate from './HostAttendRate';\nimport HostAttendantByTemple from './HostAttendantByTemple';\n\nclass App extends Component{\n  constructor(){\n    super();\n    this.state = {\n      event: \"\", eventName: \"\", eventDate: \"\", classMemberText: \"\",\n      tolRquired : 0, tolSignin : 0, tolSigninHost : 0, tolSigninAHost : 0,\n      tolSigninDeClass : 0, tolSigninOthers : 0, tolSigninClassMember : 0,\n      age : 0, gender : \"\", tolMale : 0, tolFemale : 0 , tolBoy : 0, tolGirl : 0,\n      requiredArr: [], signinArr: [],\n      zanDe: [], henDe: [], tonDe: [], zenDe: [], zuDe: [], minDe: [], sanDe: [], \n      hanDe: [], zanWa: [],otherTemple: [], \n      xingMing: [], zhiShan: [], peiDe: [], xingDe: [], chongDe: [],\n      requiredObj: {}, signinObj: {}, vowToBeObj: {},\n      classMember: \"\", \n      zanDeReq: 0, henDeReq: 0, tonDeReq: 0, zenDeReq: 0, zuDeReq: 0, minDeReq: 0,\n      sanDeReq: 0, hanDeReq: 0, zanWaReq: 0, othersReq: 0,\n      zanDeSignin: 0, henDeSignin: 0, tonDeSignin: 0, zenDeSignin: 0, zuDeSignin: 0,\n      minDeSignin: 0, sanDeSignin: 0, hanDeSignin: 0, zanWaSignin: 0, othersSignin: 0,\n      templeLastIndex: 0,\n      templeList: []\n      //templeListObj: {\"沾德\": 0, \"恆德\": 1, \"同德\": 2, \"正德\": 3, \"儒德\": 4, \"明德\": 5, \"聖德\": 6, \"涵德\": 7, \"贊化\": 8, \"其它\": 9}\n      // classList: [\n\t\t\t// \t[\"xingMing\", [], \"新民班\",0,0,0,0],\n\t\t\t// \t[\"zhiShan\", [], \"至善班\",0,0,0,0],\n\t\t\t// \t[\"peiDe\", [], \"培德班\",0,0,0,0],\n\t\t\t// \t[\"xingDe\", [], \"行德班\",0,0,0,0],\n\t\t\t// \t[\"chongDe\", [], \"崇德班\",0,0,0,0]\n\t\t  // ],\n      // classListObj: {\"新民班\": 0, \"至善班\": 1, \"培德班\": 2, \"行德班\": 3, \"崇德班\": 4}\n    }\n    //classList[]   //tolReq乾，tolReq坤, tolSignin乾，tolSign坤\t\n    this.getTempleList = this.getTempleList.bind(this);\n    this.getUrlParam = this.getUrlParam.bind(this);\n    this.getJsonData = this.getJsonData.bind(this);\n    this.getDataSource = this.getDataSource.bind(this);\n    this.checkVows = this.checkVows.bind(this);\n    this.checkIfSignin = this.checkIfSignin.bind(this);\n    this.checkIfClassMember = this.checkIfClassMember.bind(this);\n    this.jsonToObj = this.jsonToObj.bind(this);\n    this.checkGradClass = this.checkGradClass.bind(this);\n    this.genAttendanceSummary = this.genAttendanceSummary.bind(this);\n    this.genReqListByTemple = this.genReqListByTemple.bind(this);\n    this.genHostAttendRate = this.genHostAttendRate.bind(this);\n  }\n\n  genHostAttendRate(){\n    const _templeList = this.state.templeList;\n    let key;\n    for(key in _templeList){\n      console.log(_templeList[key][2]);\n    }\n    const template = Object.keys(_templeList).map(key => {\n      return(\n        <div>{_templeList[key][2]}</div>\n      )\n    })\n    console.log(\"template=\"+template);\n  }\n\n  genReqListByTemple(callback){\n    let signin, id, name, gender, temple, vow;\n    let zanDe= [], henDe= [], tonDe= [], zenDe= [], zuDe= [], minDe= [], sanDe= [], \n        hanDe= [], zanWa= [],otherTemple= [];\n    const _requiredArr = this.state.requiredArr;\n    \n    _requiredArr.forEach( (element, index) => {\n      id = element[0];\n\t\t\tname = element[1];\n\t\t\tgender = element[2];\n\t\t\ttemple = element[3];\n      vow = element[4];\n      signin = this.checkIfSignin(id);\n\n      if (temple!==undefined){\n        //console.log(\"vow=\"+ vow);\n        switch (temple.substr(0,2)){\n          case \"沾德\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.zanDe[2]++;\n              if(signin===\"yes\") templeList.zanDe[3]++;\n            }\n            if(signin===\"yes\"){\n              if(vow===\"1master\" || vow===\"2lecturer\" || vow===\"3host\") templeList.zanDe[4]++;\n              if(vow===\"4ahost\") templeList.zanDe[5]++;\n              if(vow===\"5declass\") templeList.zanDe[6]++;\n              if(vow===\"6others\") templeList.zanDe[7]++;\n            }\n            zanDe.push({ [id] :[ name, gender, vow, signin] });\n            break;\n          case \"恆德\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.henDe[2]++;\n              if(signin===\"yes\") templeList.henDe[3]++;\n            }\n            if(signin===\"yes\"){\n              if(vow===\"1master\" || vow===\"2lecturer\" || vow===\"3host\") templeList.henDe[4]++;\n              if(vow===\"4ahost\") templeList.henDe[5]++;\n              if(vow===\"5declass\") templeList.henDe[6]++;\n              if(vow===\"6others\") templeList.henDe[7]++;\n            }\n            henDe.push({ [id] :[ name, gender, vow, signin] });\n            break;\n          case \"同德\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.tonDe[2]++;\n              if(signin===\"yes\") templeList.tonDe[3]++;\n            }\n            if(signin===\"yes\"){\n              if(vow===\"1master\" || vow===\"2lecturer\" || vow===\"3host\") templeList.tonDe[4]++;\n              if(vow===\"4ahost\") templeList.tonDe[5]++;\n              if(vow===\"5declass\") templeList.tonDe[6]++;\n              if(vow===\"6others\") templeList.tonDe[7]++;\n            }\n            tonDe.push({ [id] :[ name, gender, vow, signin] });\n            break;\n          case \"正德\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.zenDe[2]++;\n              if(signin===\"yes\") templeList.zenDe[3]++;\n            }\n            if(signin===\"yes\"){\n              if(vow===\"1master\" || vow===\"2lecturer\" || vow===\"3host\") templeList.zenDe[4]++;\n              if(vow===\"4ahost\") templeList.zenDe[5]++;\n              if(vow===\"5declass\") templeList.zenDe[6]++;\n              if(vow===\"6others\") templeList.zenDe[7]++;\n            }\n            zenDe.push({ [id] :[ name, gender, vow, signin] });\n            //console.log(name, gender, vow, signin);\n            break;\n          case \"儒德\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.zuDe[2]++;\n              if(signin===\"yes\") templeList.zuDe[3]++;\n            }\n            if(signin===\"yes\"){\n              if(vow===\"1master\" || vow===\"2lecturer\" || vow===\"3host\") templeList.zuDe[4]++;\n              if(vow===\"4ahost\") templeList.zuDe[5]++;\n              if(vow===\"5declass\") templeList.zuDe[6]++;\n              if(vow===\"6others\") templeList.zuDe[7]++;\n            }\n            zuDe.push({ [id] :[ name, gender, vow, signin] });\n            break;\n          case \"明德\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.minDe[2]++;\n              if(signin===\"yes\") templeList.minDe[3]++;\n            }\n            if(signin===\"yes\"){\n              if(vow===\"1master\" || vow===\"2lecturer\" || vow===\"3host\") templeList.minDe[4]++;\n              if(vow===\"4ahost\") templeList.minDe[5]++;\n              if(vow===\"5declass\") templeList.minDe[6]++;\n              if(vow===\"6others\") templeList.minDe[7]++;\n            }\n            minDe.push({ [id] :[ name, gender, vow, signin] });\n            break;\n          case \"聖德\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.sanDe[2]++;\n              if(signin===\"yes\") templeList.sanDe[3]++;\n            }\n            if(signin===\"yes\"){\n              if(vow===\"1master\" || vow===\"2lecturer\" || vow===\"3host\") templeList.sanDe[4]++;\n              if(vow===\"4ahost\") templeList.sanDe[5]++;\n              if(vow===\"5declass\") templeList.sanDe[6]++;\n              if(vow===\"6others\") templeList.sanDe[7]++;\n            }\n            sanDe.push({ [id] :[ name, gender, vow, signin] });\n            break;\n          case \"涵德\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.hanDe[2]++;\n              if(signin===\"yes\") templeList.hanDe[3]++;\n            }\n            if(signin===\"yes\"){\n              if(vow===\"1master\" || vow===\"2lecturer\" || vow===\"3host\") templeList.hanDe[4]++;\n              if(vow===\"4ahost\") templeList.hanDe[5]++;\n              if(vow===\"5declass\") templeList.hanDe[6]++;\n              if(vow===\"6others\") templeList.hanDe[7]++;\n            }\n            hanDe.push({ [id] :[ name, gender, vow, signin] });\n            break;\t\n          case \"贊化\":\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.zanWa[2]++;\n              if(signin===\"yes\") templeList.zanWa[3]++;\n            }\n            if(signin===\"yes\"){\n              if(vow===\"1master\" || vow===\"2lecturer\" || vow===\"3host\") templeList.zanWa[4]++;\n              if(vow===\"4ahost\") templeList.zanWa[5]++;\n              if(vow===\"5declass\") templeList.zanWa[6]++;\n              if(vow===\"6others\") templeList.zanWa[7]++;\n            }\n            zanWa.push({ [id] :[ name, gender, vow, signin] });\n            break;\t\t\n          default:\n            if (this.checkIfClassMember(vow, \"\")) {\n              templeList.otherTemple[2]++;\n              if(signin===\"yes\") templeList.otherTemple[3]++;\n            }\n            if(signin===\"yes\"){\n              if(vow===\"1master\" || vow===\"2lecturer\" || vow===\"3host\") templeList.otherTemple[4]++;\n              if(vow===\"4ahost\") templeList.otherTemple[5]++;\n              if(vow===\"5declass\") templeList.otherTemple[6]++;\n              if(vow===\"6others\") templeList.otherTemple[7]++;\n            }\n            otherTemple.push({ [id] :[ name, gender, vow, signin] });\n            console.log(\"req others temple:\"+ name + temple);\n        }//end of switch\n      }//end of if\n    });//end of forEach\n    //console.log(\"templeList\"+templeList.zenDe);\n    this.setState({\n      templeList: templeList\n    });\n    callback();\n  }\n\n  genAttendanceSummary(gender){\n    switch(gender){\n      case \"乾\":\n        this.setState({tolMale: this.state.tolMale +1});\n        break;\n      case \"坤\":\n        this.setState({tolFemale: this.state.tolFemale +1});\n        break;\n      case \"童\":\n        this.setState({tolBoy: this.state.tolBoy +1});\n        break;\n      case \"女\":\n        this.setState({tolGirl: this.state.tolGirl +1});\n        break;\n      default:\n        break;\n    }\n    this.setState({tolSignin: this.state.tolSignin +1});\n  }\n\n  getDataSource(){\n    let signUrl, reqUrl;\n    const event = this.getUrlParam(\"event\");\n    this.setState({event: event});\n\n\t\tif( event === \"temple\" ){ //Friday \n\t\t\tsignUrl = \"signin5\";\n\t\t\treqUrl = \"required5\";\n\t\t\tthis.setState({\n        eventName: \"固本圖強班\",\n        eventDate: \"05.01.2020\",\n        classMemberText: \"壇主、講師、副壇主\",\n        classMember: \"hosts\"\n      });\n\t\t}else if(event === \"host\"){ //Saturday\n\t\t\tsignUrl = \"signin6\";\n\t\t\treqUrl = \"required6\";\n\t\t\tthis.setState({\n        eventName: \"壇主講師班\",\n        eventDate: \"05.02.2020\",\n        classMemberText: \"壇主、講師、副壇主、德字班道親\",\n        classMember: \"hosts-declass\"\n      });\n\t\t}else{ //Sunday \n\t\t\tsignUrl = \"signin7\";\n\t\t\treqUrl = \"required7\";\n      this.setState({\n        eventName: \"畢班、人才提拔\",\n        eventDate: \"05.03.2020\",\n        classMemberText: \"2019 年進修班畢班班員\",\n        classMember: \"class-member\"\n      });\n    }\n    console.log(\"eventName=\"+ event);\n\n    this.getJsonData(signUrl, (signindata) => {\n      this.getJsonData(reqUrl, (reqdata)=> {\n\n        this.setState({\n          requiredObj: this.jsonToObj(\"required\",reqdata),\n          signinObj: this.jsonToObj(\"signin\",signindata)\n        });\n\n        // this.genReqListByTemple(()=>{\n        //   this.genHostAttendRate();\n        // });\n\n      });\n    });\n  }\n\n  jsonToObj(type,data){\n    let index = 0, classMember= \"\", dataObj={}, dataArr=[], id, name, gender, temple, vow, gradClass;\n    classMember = this.state.classMember;\n    console.log(\"classMember=\"+ classMember);\n    const result = data.map( item => {\n      id = item.id;\n\t\t\tname = item.name;\n\t\t\tgender = item.gender;\n\t\t\ttemple = item.currentTemple;\n      vow = this.checkVows(type, name, item.vows, item.taoClasses);\n      gradClass = this.checkGradClass(name, item.taoClasses);\n      \n      dataObj[id] = [name, gender, temple, vow, gradClass];\n      dataArr.push([id, name, gender, temple, vow, gradClass]);\n\n      if(type ===\"required\") { //班員出席統計 summary section only\n        if(classMember===\"hosts\" && vow !== \"6others\" && vow !== \"5declass\"){ //Friday\n          this.setState({tolRquired: this.state.tolRquired +1});\n        }else if(classMember ===\"hosts-declass\" && vow !== \"6others\"){ //Saturday hosts + declass\n          this.setState({tolRquired: this.state.tolRquired +1});\n        }else if(classMember===\"class-member\" && gradClass!==undefined && gradClass!==\"\"){// Sunday \n          this.setState({tolRquired: this.state.tolRquired +1});\n        }\n        //console.log(\"type:\" + type, \", inde:\"+ ++index + \", currObj=\"+dataObj[id]);\n      }else{ //type === \"signin\"\n        this.genAttendanceSummary(gender); // upate 活動人數統計 summary\n      }\n      return dataArr;\n    });\n\n    if(type===\"required\"){\n      this.setState({requiredArr: dataArr});\n    }\n\n    //console.log(\"type:\" + type, \", inde:\"+ ++index + \", currObj=\"+dataObj[5]);\n    return dataObj;\n  }\n\n  checkIfSignin(id){\n    const _signinObj = this.state.signinObj;\n    return (_signinObj[id] && _signinObj[id] !== undefined) ? \"yes\" : \"x\";\n  }\n\n  checkIfClassMember(vow, gradeClass){\n    let classMember = this.state.classMember;\n    if ((classMember ===\"hosts\" && vow !== \"5declass\" && vow !== \"6others\") || \n        (classMember ===\"hosts-declass\" && vow !== \"6others\") ||\n        (classMember ===\"class-member\" && gradeClass !== \"\" && gradeClass!== undefined) \n       ){\n      return true;\n    }else{\n      return false;\n    }\n  }\n\n  checkVows(type, name, vows, taoClasses){\n    if(vows){\n\t\t\tif(vows[\"transmittingMaster\"]){\n\t\t\t\tif(vows[\"transmittingMaster\"].made === true){\n          if(type===\"signin\") this.setState({ tolSigninHost: this.state.tolSigninHost+1});\n          return \"1master\";\n        };\n\t\t\t}\n\t\t\tif(vows[\"lecturer\"]){\n\t\t\t\tif(vows[\"lecturer\"].made === true){\n          if(type===\"signin\") this.setState({ tolSigninHost: this.state.tolSigninHost+1});\n          return \"2lecturer\";\n        };\n\t\t\t}\n      if(vows[\"templeHost\"]) {\n        if(vows[\"templeHost\"].made === true){\n          if(type===\"signin\") this.setState({ tolSigninHost: this.state.tolSigninHost+1});\n          return \"3host\";\n        };\n      }\t\n      if(vows[\"assistantTempleHost\"]) {\n        if(vows[\"assistantTempleHost\"].made === true){\n          if(type===\"signin\") this.setState({ tolSigninAHost: this.state.tolSigninAHost +1});\n          return \"4ahost\";\n        };\n      }\n    }\n\n    if(taoClasses){\n      if( (taoClasses.chongDe && taoClasses.chongDe.completed === true) ||\n          (taoClasses.xingDe && taoClasses.xingDe.completed === true) ||\n          (taoClasses.peiDe && taoClasses.peiDe.completed === true) ) {\n        if(type===\"signin\") this.setState({ tolSigninDeClass: this.state.tolSigninDeClass +1});\n        return \"5declass\";\n      }else{ //others \n        if(type===\"signin\") this.setState({ tolSigninOthers: this.state.tolSigninOthers +1});\n        return \"6others\";\n      }\n    }\n\t\tconsole.log(\"no vow nor declass\" + name + \": \" + vows , taoClasses);\n\t\treturn false;\n  }\n\n  checkGradClass(name, taoClasses){\n    if(taoClasses){\n      if(taoClasses.chongDe && taoClasses.chongDe.completed === true && taoClasses.chongDe.completionDate) {\n        if (taoClasses.chongDe.completionDate.substr(0, 10) === \"2018-12-09\") return \"5chongDe\";\n      }else if(taoClasses.xingDe && taoClasses.xingDe.completed === true && taoClasses.xingDe.completionDate){\n        if (taoClasses.xingDe.completionDate.substr(0, 10)===\"2018-12-09\") return \"4xingDe\";\n      }else if(taoClasses.peiDe && taoClasses.peiDe.completed === true && taoClasses.peiDe.completionDate){\n        if (taoClasses.peiDe.completionDate.substr(0, 10)===\"2018-12-09\") return \"3peiDe\";\n      }else if(taoClasses.zhiShan && taoClasses.zhiShan.completed === true && taoClasses.zhiShan.completionDate){\n        if (taoClasses.zhiShan.completionDate.substr(0, 10)===\"2018-12-09\") return \"2zhiShan\";\n      }else if(taoClasses.xingMing && taoClasses.xingMing.completed === true && taoClasses.xingMing.completionDate){\n        if (taoClasses.xingMing.completionDate.substr(0, 10)===\"2018-12-09\") return \"1xingMing\";\n      }else{ //others \n        return \"\";\n      }\n    }else{\n      console.log(\"no grad lass\" + name + \": \" , taoClasses);\n      return \"\";\n    }\n  }\n\n  getUrlParam(parameter){\n    let getAction=\"\", url = \"\";\n    url = new URLSearchParams(window.location.search);\n    getAction = url.get(parameter);\n    return getAction;\n  }\n\n  getJsonData(_url, callback){\n    fetch('./json/'+_url + '.json')\n    .then(response => response.json())\n    .then(result => {\n       callback(result);\n    });\n  }\n\n  getTempleList(){\n    fetch('./json/templeList.json')\n    .then(response => response.json())\n    .then(restult => {\n      const tempList = result.map(item => {\n        item.temppleId = this.state.templeLastIndex;\n        this.setState({templeLastIndex: this.state.templeLastIndex + 1 });\n        return item;\n      });\n\n      this.setState({templeList: tempList});\n    });\n  }\n\n  componentDidMount(){\n    this.getDataSource();\n    this.getTempleList();\n  }\n\n  render(){\n    \n    return(\n      <div>\n        <div id=\"host-class\" className=\"main-container event-name\">\n          <HostHeader\n            eventName = {this.state.eventName}\n            eventDate = {this.state.eventDate}\n            classMemberText = {this.state.classMemberText}\n          />\n          <HostSummary\n            event = {this.state.event}\n            tolRquired = {this.state.tolRquired}\n            tolSigninClassMember = {this.state.tolSigninHost + this.state.tolSigninAHost + this.state.tolSigninDeClass}\n            tolSigninHost = {this.state.tolSigninHost}\n            tolSigninAHost = {this.state.tolSigninAHost}\n            tolSigninDeClass = {this.state.tolSigninDeClass}\n          />\n          <HostAttendantSummary\n            tolSignin = {this.state.tolSignin}\n            tolAdult = {this.state.tolMale + this.state.tolFemale}\n            tolChildren = {this.state.tolBoy + this.state.tolGirl}\n            tolMale = {this.state.tolMale}\n            tolFemale = {this.state.tolFemale}\n            tolBoy = {this.state.tolBoy}\n            tolGirl = {this.state.tolGirl}\n            tolSigninOthers = {this.state.tolSigninOthers}\n          />\n        </div>\n        <HostAttendRate\n          templeList = {this.state.templeList}\n          requiredArr = {this.state.requiredArr}\n          tolSignin = {this.state.tolSignin}\n        />\n        <HostAttendantByTemple\n          templeList = {this.state.templeList}\n        />\n      </div>\n      \n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}