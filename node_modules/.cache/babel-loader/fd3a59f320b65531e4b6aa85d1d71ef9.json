{"ast":null,"code":"var _jsxFileName = \"/Users/chisu/Sites/templehost/src/components/App.js\";\nimport React, { Component } from 'react';\nimport '../css/styles.css';\nimport HostHeader from './HostHeader';\nimport HostSummary from './HostSummary';\nimport HostAttendantSummary from './HostAttendantSummary';\nimport HostAttendRate from './HostAttendRate';\nimport HostAttendantByTemple from './HostAttendantByTemple';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      tolRquired: 0,\n      tolSignin: 0,\n      tolSigninHost: 0,\n      tolSigninAHost: 0,\n      tolSigninDeClass: 0,\n      tolSigninOthers: 0,\n      tolSigninClassMember: 0,\n      age: 0,\n      gender: \"\",\n      tolMale: 0,\n      tolFemale: 0,\n      tolBoy: 0,\n      tolGirl: 0,\n      requiredArr: [],\n      signinArr: [],\n      zanDe: [],\n      henDe: [],\n      tonDe: [],\n      zenDe: [],\n      zuDe: [],\n      minDe: [],\n      sanDe: [],\n      hanDe: [],\n      zanWa: [],\n      otherTemple: [],\n      xingMing: [],\n      zhiShan: [],\n      peiDe: [],\n      xingDe: [],\n      chongDe: [],\n      requiredObj: {},\n      signinObj: {},\n      vowToBeObj: {},\n      classMember: \"\",\n      zanDeReq: 0,\n      henDeReq: 0,\n      tonDeReq: 0,\n      zenDeReq: 0,\n      zuDeReq: 0,\n      minDeReq: 0,\n      sanDeReq: 0,\n      hanDeReq: 0,\n      zanWaReq: 0,\n      othersReq: 0,\n      zanDeSignin: 0,\n      henDeSignin: 0,\n      tonDeSignin: 0,\n      zenDeSignin: 0,\n      zuDeSignin: 0,\n      minDeSignin: 0,\n      sanDeSignin: 0,\n      hanDeSignin: 0,\n      zanWaSignin: 0,\n      othersSignin: 0,\n      templeList: [[\"zanDe\", [], \"沾德壇\", 0, 0, 0, 0, [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]], [\"henDe\", [], \"恆德壇\", 0, 0, 0, 0, [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]], [\"tonDe\", [], \"同德壇\", 0, 0, 0, 0, [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]], [\"zenDe\", [], \"正德壇\", 0, 0, 0, 0, [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]], [\"zuDe\", [], \"儒德壇\", 0, 0, 0, 0, [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]], [\"minDe\", [], \"明德壇\", 0, 0, 0, 0, [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]], [\"sanDe\", [], \"聖德壇\", 0, 0, 0, 0, [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]], [\"hanDe\", [], \"涵德壇\", 0, 0, 0, 0, [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]], [\"zanWa\", [], \"贊化壇\", 0, 0, 0, 0, [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]], [\"otherTemple\", [], \"其它單位\", 0, 0, 0, 0, [0, 0], [0, 0], [0, 0], [0, 0], [0, 0]]],\n      templeListObj: {\n        \"沾德\": 0,\n        \"恆德\": 1,\n        \"同德\": 2,\n        \"正德\": 3,\n        \"儒德\": 4,\n        \"明德\": 5,\n        \"聖德\": 6,\n        \"涵德\": 7,\n        \"贊化\": 8,\n        \"其它\": 9\n      },\n      classList: [[\"xingMing\", [], \"新民班\", 0, 0, 0, 0], [\"zhiShan\", [], \"至善班\", 0, 0, 0, 0], [\"peiDe\", [], \"培德班\", 0, 0, 0, 0], [\"xingDe\", [], \"行德班\", 0, 0, 0, 0], [\"chongDe\", [], \"崇德班\", 0, 0, 0, 0]],\n      classListObj: {\n        \"新民班\": 0,\n        \"至善班\": 1,\n        \"培德班\": 2,\n        \"行德班\": 3,\n        \"崇德班\": 4\n      }\n    }; //templeList[]  //tolReq乾，tolReq坤, tolSignin乾，tolSign坤, 新民[tolReq,rolSignin] etc.... [0,0] means no such class in this temple\n    //classList[]   //tolReq乾，tolReq坤, tolSignin乾，tolSign坤\t\n\n    this.getJsonData = this.getJsonData.bind(this);\n    this.getDataSource = this.getDataSource.bind(this);\n    this.checkVows = this.checkVows.bind(this);\n    this.jsonToObj = this.jsonToObj.bind(this);\n    this.checkGradClass = this.checkGradClass.bind(this);\n    this.genAttendanceSummary = this.genAttendanceSummary.bind(this);\n    this.genReqHostObjByTemple = this.genReqHostObjByTemple.bind(this);\n  }\n\n  genAttendanceSummary(gender) {\n    switch (gender) {\n      case \"乾\":\n        this.setState({\n          tolMale: this.state.tolMale + 1\n        });\n        break;\n\n      case \"坤\":\n        this.setState({\n          tolFemale: this.state.tolFemale + 1\n        });\n        break;\n\n      case \"童\":\n        this.setState({\n          tolBoy: this.state.tolBoy + 1\n        });\n        break;\n\n      case \"女\":\n        this.setState({\n          tolGirl: this.state.tolGirl + 1\n        });\n        break;\n\n      default:\n        break;\n    }\n\n    this.setState({\n      tolSignin: this.state.tolSignin + 1\n    });\n  }\n\n  genReqHostObjByTemple(id, name, gender, temple, vow) {\n    let signin = \"\",\n        zanDe = [],\n        henDe = [],\n        tonDe = [],\n        zenDe = [],\n        zuDe = [],\n        minDe = [],\n        sanDe = [],\n        hanDe = [],\n        zanWa = [],\n        otherTemple = [];\n\n    if (temple !== undefined) {\n      signin = this.state.signinObj[id] && this.state.signinObj[id] !== undefined ? \"yes\" : \"x\";\n      console.log(\"id=\" + id);\n\n      switch (temple.substr(0, 2)) {\n        case \"沾德\":\n          this.setState({\n            zanDeReq: this.state.zanDeReq + 1\n          });\n          zanDe.push({\n            [id]: [name, gender, vow, signin]\n          });\n          console.log(\"zanDe=\" + zanDe[207]);\n          break;\n\n        case \"恆德\":\n          this.setState({\n            henDeReq: this.state.henDeReq + 1\n          });\n          henDe.push({\n            [id]: [name, gender, vow, signin]\n          });\n          break;\n\n        case \"同德\":\n          this.setState({\n            tonDeReq: this.state.tonDeReq + 1\n          });\n          tonDe.push({\n            [id]: [name, gender, vow, signin]\n          });\n          break;\n\n        case \"正德\":\n          this.setState({\n            zenDeReq: this.state.zenDeReq + 1\n          });\n          zenDe.push({\n            [id]: [name, gender, vow, signin]\n          });\n          break;\n\n        case \"儒德\":\n          this.setState({\n            zuDeReq: this.state.zuDeReq + 1\n          });\n          zuDe.push({\n            [id]: [name, gender, vow, signin]\n          });\n          break;\n\n        case \"明德\":\n          this.setState({\n            minDeReq: this.state.minDeReq + 1\n          });\n          minDe.push({\n            [id]: [name, gender, vow, signin]\n          });\n          break;\n\n        case \"聖德\":\n          this.setState({\n            sanDeReq: this.state.sanDeReq + 1\n          });\n          sanDe.push({\n            [id]: [name, gender, vow, signin]\n          });\n          break;\n\n        case \"涵德\":\n          this.setState({\n            hanDeReq: this.state.hanDeReq + 1\n          });\n          hanDe.push({\n            [id]: [name, gender, vow, signin]\n          });\n          break;\n\n        case \"贊化\":\n          this.setState({\n            zanWaReq: this.state.zanWaReq + 1\n          });\n          zanWa.push({\n            [id]: [name, gender, vow, signin]\n          });\n          break;\n\n        default:\n          this.setState({\n            othersReq: this.state.othersReq + 1\n          });\n          otherTemple.push({\n            [id]: [name, gender, vow, signin]\n          });\n          console.log(\"其他壇:\" + temple);\n          break;\n      }\n    }\n  }\n\n  getDataSource() {\n    let signUrl, reqUrl;\n\n    if (document.getElementById(\"setup-Temple-class\") != null) {\n      //Friday \n      signUrl = \"signin5\";\n      reqUrl = \"required5\";\n      this.setState({\n        classMember: \"hosts\"\n      });\n    } else if (document.getElementById(\"host-class\") != null) {\n      //Saturday\n      signUrl = \"signin6\";\n      reqUrl = \"required6\";\n      this.setState({\n        classMember: \"hosts\"\n      });\n    } else {\n      //Sunday \n      signUrl = \"signin7\";\n      reqUrl = \"required7\";\n      this.setState({\n        classMember: \"class-member\"\n      }); //getVowToBeData();\n    }\n\n    this.getJsonData(signUrl, signindata => {\n      this.getJsonData(reqUrl, reqdata => {\n        this.setState({\n          requiredObj: this.jsonToObj(\"required\", reqdata),\n          signinObj: this.jsonToObj(\"signin\", signindata)\n        });\n      });\n    });\n  }\n\n  jsonToObj(type, data) {\n    let dataObj = {},\n        dataArr = [],\n        id,\n        name,\n        gender,\n        temple,\n        vow,\n        gradClass;\n    const result = data.map(item => {\n      dataArr.id = id = item.id;\n      dataArr.name = name = item.name;\n      dataArr.gender = gender = item.gender;\n      dataArr.temple = temple = item.currentTemple;\n      dataArr.vow = vow = this.checkVows(type, name, item.vows, item.taoClasses);\n      dataArr.gradClass = gradClass = this.checkGradClass(name, item.taoClasses);\n      dataObj[id] = [name, gender, temple, vow, gradClass]; //if(vow === \"6others\") console.log(\"currObj=\"+dataObj[id]);\n\n      if (type === \"required\" && vow !== \"6others\") {\n        this.setState({\n          tolRquired: this.state.tolRquired + 1\n        });\n        this.genReqHostObjByTemple(id, name, gender, temple, vow);\n      }\n\n      if (type === \"signin\") this.genAttendanceSummary(gender);\n      return dataArr;\n    });\n\n    if (type === \"required\") {\n      this.setState({\n        requiredArr: result\n      });\n    } else {\n      this.setState({\n        signinArr: result\n      });\n    }\n\n    return dataObj;\n  }\n\n  checkVows(type, name, vows, taoClasses) {\n    if (vows) {\n      if (vows[\"transmittingMaster\"]) {\n        if (vows[\"transmittingMaster\"].made === true) {\n          if (type === \"signin\") this.setState({\n            tolSigninHost: this.state.tolSigninHost + 1\n          });\n          return \"1master\";\n        }\n\n        ;\n      }\n\n      if (vows[\"lecturer\"]) {\n        if (vows[\"lecturer\"].made === true) {\n          if (type === \"signin\") this.setState({\n            tolSigninHost: this.state.tolSigninHost + 1\n          });\n          return \"2lecturer\";\n        }\n\n        ;\n      }\n\n      if (vows[\"templeHost\"]) {\n        if (vows[\"templeHost\"].made === true) {\n          if (type === \"signin\") this.setState({\n            tolSigninHost: this.state.tolSigninHost + 1\n          });\n          return \"3host\";\n        }\n\n        ;\n      }\n\n      if (vows[\"assistantTempleHost\"]) {\n        if (vows[\"assistantTempleHost\"].made === true) {\n          if (type === \"signin\") this.setState({\n            tolSigninAHost: this.state.tolSigninAHost + 1\n          });\n          return \"4ahost\";\n        }\n\n        ;\n      }\n    }\n\n    if (taoClasses) {\n      if (taoClasses.chongDe && taoClasses.chongDe.completed === true || taoClasses.xingDe && taoClasses.xingDe.completed === true || taoClasses.peiDe && taoClasses.peiDe.completed === true) {\n        if (type === \"signin\") this.setState({\n          tolSigninDeClass: this.state.tolSigninDeClass + 1\n        });\n        return \"5declass\";\n      } else {\n        //others \n        if (type === \"signin\") this.setState({\n          tolSigninOthers: this.state.tolSigninOthers + 1\n        });\n        return \"6others\";\n      }\n    }\n\n    console.log(\"no vow nor declass\" + name + \": \" + vows, taoClasses);\n    return false;\n  }\n\n  checkGradClass(name, taoClasses) {\n    if (taoClasses) {\n      if (taoClasses.chongDe && taoClasses.chongDe.completed === true && taoClasses.chongDe.completionDate) {\n        if (taoClasses.chongDe.completionDate.substr(0, 10) === \"2018-12-09\") return \"5chongDe\";\n      } else if (taoClasses.xingDe && taoClasses.xingDe.completed === true && taoClasses.xingDe.completionDate) {\n        if (taoClasses.xingDe.completionDate.substr(0, 10) === \"2018-12-09\") return \"4xingDe\";\n      } else if (taoClasses.peiDe && taoClasses.peiDe.completed === true && taoClasses.peiDe.completionDate) {\n        if (taoClasses.peiDe.completionDate.substr(0, 10) === \"2018-12-09\") return \"3peiDe\";\n      } else if (taoClasses.zhiShan && taoClasses.zhiShan.completed === true && taoClasses.zhiShan.completionDate) {\n        if (taoClasses.zhiShan.completionDate.substr(0, 10) === \"2018-12-09\") return \"2zhiShan\";\n      } else if (taoClasses.xingMing && taoClasses.xingMing.completed === true && taoClasses.xingMing.completionDate) {\n        if (taoClasses.xingMing.completionDate.substr(0, 10) === \"2018-12-09\") return \"1xingMing\";\n      } else {\n        //others \n        return \"\";\n      }\n    } else {\n      console.log(\"no grad lass\" + name + \": \", taoClasses);\n      return false;\n    }\n  }\n\n  getJsonData(_url, callback) {\n    fetch('./json/' + _url + '.json').then(response => response.json()).then(result => {\n      callback(result);\n    });\n  }\n\n  componentDidMount() {\n    this.getDataSource();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"host-class\",\n      className: \"main-container event-name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(HostHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }), React.createElement(HostSummary, {\n      tolRquired: this.state.tolRquired,\n      tolSigninClassMember: this.state.tolSigninHost + this.state.tolSigninAHost + this.state.tolSigninDeClass,\n      tolSigninHost: this.state.tolSigninHost,\n      tolSigninAHost: this.state.tolSigninAHost,\n      tolSigninDeClass: this.state.tolSigninDeClass,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }), React.createElement(HostAttendantSummary, {\n      tolSignin: this.state.tolSignin,\n      tolAdult: this.state.tolMale + this.state.tolFemale,\n      tolChildren: this.state.tolBoy + this.state.tolGirl,\n      tolMale: this.state.tolMale,\n      tolFemale: this.state.tolFemale,\n      tolBoy: this.state.tolBoy,\n      tolGirl: this.state.tolGirl,\n      tolSigninOthers: this.state.tolSigninOthers,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    })), React.createElement(HostAttendRate, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }), React.createElement(HostAttendantByTemple, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/chisu/Sites/templehost/src/components/App.js"],"names":["React","Component","HostHeader","HostSummary","HostAttendantSummary","HostAttendRate","HostAttendantByTemple","App","constructor","state","tolRquired","tolSignin","tolSigninHost","tolSigninAHost","tolSigninDeClass","tolSigninOthers","tolSigninClassMember","age","gender","tolMale","tolFemale","tolBoy","tolGirl","requiredArr","signinArr","zanDe","henDe","tonDe","zenDe","zuDe","minDe","sanDe","hanDe","zanWa","otherTemple","xingMing","zhiShan","peiDe","xingDe","chongDe","requiredObj","signinObj","vowToBeObj","classMember","zanDeReq","henDeReq","tonDeReq","zenDeReq","zuDeReq","minDeReq","sanDeReq","hanDeReq","zanWaReq","othersReq","zanDeSignin","henDeSignin","tonDeSignin","zenDeSignin","zuDeSignin","minDeSignin","sanDeSignin","hanDeSignin","zanWaSignin","othersSignin","templeList","templeListObj","classList","classListObj","getJsonData","bind","getDataSource","checkVows","jsonToObj","checkGradClass","genAttendanceSummary","genReqHostObjByTemple","setState","id","name","temple","vow","signin","undefined","console","log","substr","push","signUrl","reqUrl","document","getElementById","signindata","reqdata","type","data","dataObj","dataArr","gradClass","result","map","item","currentTemple","vows","taoClasses","made","completed","completionDate","_url","callback","fetch","then","response","json","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,mBAAP;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,oBAAP,MAAiC,wBAAjC;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,qBAAP,MAAkC,yBAAlC;;AAEA,MAAMC,GAAN,SAAkBN,SAAlB,CAA2B;AACzBO,EAAAA,WAAW,GAAE;AACX;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAG,CADF;AACKC,MAAAA,SAAS,EAAG,CADjB;AACoBC,MAAAA,aAAa,EAAG,CADpC;AACuCC,MAAAA,cAAc,EAAG,CADxD;AAEXC,MAAAA,gBAAgB,EAAG,CAFR;AAEWC,MAAAA,eAAe,EAAG,CAF7B;AAEgCC,MAAAA,oBAAoB,EAAG,CAFvD;AAGXC,MAAAA,GAAG,EAAG,CAHK;AAGFC,MAAAA,MAAM,EAAG,EAHP;AAGWC,MAAAA,OAAO,EAAG,CAHrB;AAGwBC,MAAAA,SAAS,EAAG,CAHpC;AAGwCC,MAAAA,MAAM,EAAG,CAHjD;AAGoDC,MAAAA,OAAO,EAAG,CAH9D;AAIXC,MAAAA,WAAW,EAAE,EAJF;AAIMC,MAAAA,SAAS,EAAE,EAJjB;AAKXC,MAAAA,KAAK,EAAE,EALI;AAKAC,MAAAA,KAAK,EAAE,EALP;AAKWC,MAAAA,KAAK,EAAE,EALlB;AAKsBC,MAAAA,KAAK,EAAE,EAL7B;AAKiCC,MAAAA,IAAI,EAAE,EALvC;AAK2CC,MAAAA,KAAK,EAAE,EALlD;AAKsDC,MAAAA,KAAK,EAAE,EAL7D;AAMXC,MAAAA,KAAK,EAAE,EANI;AAMAC,MAAAA,KAAK,EAAE,EANP;AAMUC,MAAAA,WAAW,EAAE,EANvB;AAM2BC,MAAAA,QAAQ,EAAE,EANrC;AAMyCC,MAAAA,OAAO,EAAE,EANlD;AAMsDC,MAAAA,KAAK,EAAE,EAN7D;AAOXC,MAAAA,MAAM,EAAE,EAPG;AAOCC,MAAAA,OAAO,EAAE,EAPV;AAQXC,MAAAA,WAAW,EAAE,EARF;AAQMC,MAAAA,SAAS,EAAE,EARjB;AAQqBC,MAAAA,UAAU,EAAE,EARjC;AASXC,MAAAA,WAAW,EAAE,EATF;AAUXC,MAAAA,QAAQ,EAAE,CAVC;AAUEC,MAAAA,QAAQ,EAAE,CAVZ;AAUeC,MAAAA,QAAQ,EAAE,CAVzB;AAU4BC,MAAAA,QAAQ,EAAE,CAVtC;AAUyCC,MAAAA,OAAO,EAAE,CAVlD;AAUqDC,MAAAA,QAAQ,EAAE,CAV/D;AAWXC,MAAAA,QAAQ,EAAE,CAXC;AAWEC,MAAAA,QAAQ,EAAE,CAXZ;AAWeC,MAAAA,QAAQ,EAAE,CAXzB;AAW4BC,MAAAA,SAAS,EAAE,CAXvC;AAYXC,MAAAA,WAAW,EAAE,CAZF;AAYKC,MAAAA,WAAW,EAAE,CAZlB;AAYqBC,MAAAA,WAAW,EAAE,CAZlC;AAYqCC,MAAAA,WAAW,EAAE,CAZlD;AAYqDC,MAAAA,UAAU,EAAE,CAZjE;AAaXC,MAAAA,WAAW,EAAE,CAbF;AAaKC,MAAAA,WAAW,EAAE,CAblB;AAaqBC,MAAAA,WAAW,EAAE,CAblC;AAaqCC,MAAAA,WAAW,EAAE,CAblD;AAaqDC,MAAAA,YAAY,EAAE,CAbnE;AAcXC,MAAAA,UAAU,EAAE,CACd,CAAC,OAAD,EAAU,EAAV,EAAc,KAAd,EAAoB,CAApB,EAAsB,CAAtB,EAAwB,CAAxB,EAA0B,CAA1B,EAA4B,CAAC,CAAD,EAAG,CAAH,CAA5B,EAAmC,CAAC,CAAD,EAAG,CAAH,CAAnC,EAA0C,CAAC,CAAD,EAAG,CAAH,CAA1C,EAAiD,CAAC,CAAD,EAAG,CAAH,CAAjD,EAAwD,CAAC,CAAD,EAAG,CAAH,CAAxD,CADc,EAEd,CAAC,OAAD,EAAU,EAAV,EAAc,KAAd,EAAoB,CAApB,EAAsB,CAAtB,EAAwB,CAAxB,EAA0B,CAA1B,EAA4B,CAAC,CAAD,EAAG,CAAH,CAA5B,EAAmC,CAAC,CAAD,EAAG,CAAH,CAAnC,EAA0C,CAAC,CAAD,EAAG,CAAH,CAA1C,EAAiD,CAAC,CAAD,EAAG,CAAH,CAAjD,EAAwD,CAAC,CAAD,EAAG,CAAH,CAAxD,CAFc,EAGd,CAAC,OAAD,EAAU,EAAV,EAAc,KAAd,EAAoB,CAApB,EAAsB,CAAtB,EAAwB,CAAxB,EAA0B,CAA1B,EAA4B,CAAC,CAAD,EAAG,CAAH,CAA5B,EAAmC,CAAC,CAAD,EAAG,CAAH,CAAnC,EAA0C,CAAC,CAAD,EAAG,CAAH,CAA1C,EAAiD,CAAC,CAAD,EAAG,CAAH,CAAjD,EAAwD,CAAC,CAAD,EAAG,CAAH,CAAxD,CAHc,EAId,CAAC,OAAD,EAAU,EAAV,EAAc,KAAd,EAAoB,CAApB,EAAsB,CAAtB,EAAwB,CAAxB,EAA0B,CAA1B,EAA4B,CAAC,CAAD,EAAG,CAAH,CAA5B,EAAmC,CAAC,CAAD,EAAG,CAAH,CAAnC,EAA0C,CAAC,CAAD,EAAG,CAAH,CAA1C,EAAiD,CAAC,CAAD,EAAG,CAAH,CAAjD,EAAwD,CAAC,CAAD,EAAG,CAAH,CAAxD,CAJc,EAKd,CAAC,MAAD,EAAU,EAAV,EAAe,KAAf,EAAqB,CAArB,EAAuB,CAAvB,EAAyB,CAAzB,EAA2B,CAA3B,EAA6B,CAAC,CAAD,EAAG,CAAH,CAA7B,EAAoC,CAAC,CAAD,EAAG,CAAH,CAApC,EAA2C,CAAC,CAAD,EAAG,CAAH,CAA3C,EAAkD,CAAC,CAAD,EAAG,CAAH,CAAlD,EAAyD,CAAC,CAAD,EAAG,CAAH,CAAzD,CALc,EAMd,CAAC,OAAD,EAAU,EAAV,EAAc,KAAd,EAAoB,CAApB,EAAsB,CAAtB,EAAwB,CAAxB,EAA0B,CAA1B,EAA4B,CAAC,CAAD,EAAG,CAAH,CAA5B,EAAmC,CAAC,CAAD,EAAG,CAAH,CAAnC,EAA0C,CAAC,CAAD,EAAG,CAAH,CAA1C,EAAiD,CAAC,CAAD,EAAG,CAAH,CAAjD,EAAwD,CAAC,CAAD,EAAG,CAAH,CAAxD,CANc,EAOd,CAAC,OAAD,EAAU,EAAV,EAAc,KAAd,EAAoB,CAApB,EAAsB,CAAtB,EAAwB,CAAxB,EAA0B,CAA1B,EAA4B,CAAC,CAAD,EAAG,CAAH,CAA5B,EAAmC,CAAC,CAAD,EAAG,CAAH,CAAnC,EAA0C,CAAC,CAAD,EAAG,CAAH,CAA1C,EAAiD,CAAC,CAAD,EAAG,CAAH,CAAjD,EAAwD,CAAC,CAAD,EAAG,CAAH,CAAxD,CAPc,EAQd,CAAC,OAAD,EAAU,EAAV,EAAc,KAAd,EAAoB,CAApB,EAAsB,CAAtB,EAAwB,CAAxB,EAA0B,CAA1B,EAA4B,CAAC,CAAD,EAAG,CAAH,CAA5B,EAAmC,CAAC,CAAD,EAAG,CAAH,CAAnC,EAA0C,CAAC,CAAD,EAAG,CAAH,CAA1C,EAAiD,CAAC,CAAD,EAAG,CAAH,CAAjD,EAAwD,CAAC,CAAD,EAAG,CAAH,CAAxD,CARc,EASd,CAAC,OAAD,EAAU,EAAV,EAAc,KAAd,EAAoB,CAApB,EAAsB,CAAtB,EAAwB,CAAxB,EAA0B,CAA1B,EAA4B,CAAC,CAAD,EAAG,CAAH,CAA5B,EAAmC,CAAC,CAAD,EAAG,CAAH,CAAnC,EAA0C,CAAC,CAAD,EAAG,CAAH,CAA1C,EAAiD,CAAC,CAAD,EAAG,CAAH,CAAjD,EAAwD,CAAC,CAAD,EAAG,CAAH,CAAxD,CATc,EAUd,CAAC,aAAD,EAAgB,EAAhB,EAAoB,MAApB,EAA2B,CAA3B,EAA6B,CAA7B,EAA+B,CAA/B,EAAiC,CAAjC,EAAmC,CAAC,CAAD,EAAG,CAAH,CAAnC,EAA0C,CAAC,CAAD,EAAG,CAAH,CAA1C,EAAiD,CAAC,CAAD,EAAG,CAAH,CAAjD,EAAwD,CAAC,CAAD,EAAG,CAAH,CAAxD,EAA+D,CAAC,CAAD,EAAG,CAAH,CAA/D,CAVc,CAdD;AA0BXC,MAAAA,aAAa,EAAE;AAAC,cAAM,CAAP;AAAU,cAAM,CAAhB;AAAmB,cAAM,CAAzB;AAA4B,cAAM,CAAlC;AAAqC,cAAM,CAA3C;AAA8C,cAAM,CAApD;AAAuD,cAAM,CAA7D;AAAgE,cAAM,CAAtE;AAAyE,cAAM,CAA/E;AAAkF,cAAM;AAAxF,OA1BJ;AA2BXC,MAAAA,SAAS,EAAE,CACb,CAAC,UAAD,EAAa,EAAb,EAAiB,KAAjB,EAAuB,CAAvB,EAAyB,CAAzB,EAA2B,CAA3B,EAA6B,CAA7B,CADa,EAEb,CAAC,SAAD,EAAY,EAAZ,EAAgB,KAAhB,EAAsB,CAAtB,EAAwB,CAAxB,EAA0B,CAA1B,EAA4B,CAA5B,CAFa,EAGb,CAAC,OAAD,EAAU,EAAV,EAAc,KAAd,EAAoB,CAApB,EAAsB,CAAtB,EAAwB,CAAxB,EAA0B,CAA1B,CAHa,EAIb,CAAC,QAAD,EAAW,EAAX,EAAe,KAAf,EAAqB,CAArB,EAAuB,CAAvB,EAAyB,CAAzB,EAA2B,CAA3B,CAJa,EAKb,CAAC,SAAD,EAAY,EAAZ,EAAgB,KAAhB,EAAsB,CAAtB,EAAwB,CAAxB,EAA0B,CAA1B,EAA4B,CAA5B,CALa,CA3BA;AAkCXC,MAAAA,YAAY,EAAE;AAAC,eAAO,CAAR;AAAW,eAAO,CAAlB;AAAqB,eAAO,CAA5B;AAA+B,eAAO,CAAtC;AAAyC,eAAO;AAAhD;AAlCH,KAAb,CAFW,CAsCX;AACA;;AACA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBC,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKE,SAAL,GAAiB,KAAKA,SAAL,CAAeF,IAAf,CAAoB,IAApB,CAAjB;AACA,SAAKG,SAAL,GAAiB,KAAKA,SAAL,CAAeH,IAAf,CAAoB,IAApB,CAAjB;AACA,SAAKI,cAAL,GAAsB,KAAKA,cAAL,CAAoBJ,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKK,oBAAL,GAA4B,KAAKA,oBAAL,CAA0BL,IAA1B,CAA+B,IAA/B,CAA5B;AACA,SAAKM,qBAAL,GAA6B,KAAKA,qBAAL,CAA2BN,IAA3B,CAAgC,IAAhC,CAA7B;AACD;;AAEDK,EAAAA,oBAAoB,CAACxD,MAAD,EAAQ;AAC1B,YAAOA,MAAP;AACE,WAAK,GAAL;AACE,aAAK0D,QAAL,CAAc;AAACzD,UAAAA,OAAO,EAAE,KAAKV,KAAL,CAAWU,OAAX,GAAoB;AAA9B,SAAd;AACA;;AACF,WAAK,GAAL;AACE,aAAKyD,QAAL,CAAc;AAACxD,UAAAA,SAAS,EAAE,KAAKX,KAAL,CAAWW,SAAX,GAAsB;AAAlC,SAAd;AACA;;AACF,WAAK,GAAL;AACE,aAAKwD,QAAL,CAAc;AAACvD,UAAAA,MAAM,EAAE,KAAKZ,KAAL,CAAWY,MAAX,GAAmB;AAA5B,SAAd;AACA;;AACF,WAAK,GAAL;AACE,aAAKuD,QAAL,CAAc;AAACtD,UAAAA,OAAO,EAAE,KAAKb,KAAL,CAAWa,OAAX,GAAoB;AAA9B,SAAd;AACA;;AACF;AACE;AAdJ;;AAgBA,SAAKsD,QAAL,CAAc;AAACjE,MAAAA,SAAS,EAAE,KAAKF,KAAL,CAAWE,SAAX,GAAsB;AAAlC,KAAd;AACD;;AAEDgE,EAAAA,qBAAqB,CAACE,EAAD,EAAKC,IAAL,EAAW5D,MAAX,EAAmB6D,MAAnB,EAA2BC,GAA3B,EAA+B;AAClD,QAAIC,MAAM,GAAG,EAAb;AAAA,QAAiBxD,KAAK,GAAG,EAAzB;AAAA,QAA6BC,KAAK,GAAE,EAApC;AAAA,QAAwCC,KAAK,GAAE,EAA/C;AAAA,QAAmDC,KAAK,GAAE,EAA1D;AAAA,QAA8DC,IAAI,GAAE,EAApE;AAAA,QACIC,KAAK,GAAE,EADX;AAAA,QACeC,KAAK,GAAE,EADtB;AAAA,QAC0BC,KAAK,GAAE,EADjC;AAAA,QACqCC,KAAK,GAAE,EAD5C;AAAA,QAC+CC,WAAW,GAAE,EAD5D;;AAGA,QAAI6C,MAAM,KAAKG,SAAf,EAAyB;AACvBD,MAAAA,MAAM,GAAI,KAAKxE,KAAL,CAAWgC,SAAX,CAAqBoC,EAArB,KAA4B,KAAKpE,KAAL,CAAWgC,SAAX,CAAqBoC,EAArB,MAA4BK,SAAzD,GAAsE,KAAtE,GAA8E,GAAvF;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAMP,EAAlB;;AACA,cAAQE,MAAM,CAACM,MAAP,CAAc,CAAd,EAAgB,CAAhB,CAAR;AACF,aAAK,IAAL;AACC,eAAKT,QAAL,CAAc;AAAChC,YAAAA,QAAQ,EAAE,KAAKnC,KAAL,CAAWmC,QAAX,GAAsB;AAAjC,WAAd;AACKnB,UAAAA,KAAK,CAAC6D,IAAN,CAAW;AAAE,aAACT,EAAD,GAAM,CAAEC,IAAF,EAAQ5D,MAAR,EAAgB8D,GAAhB,EAAqBC,MAArB;AAAR,WAAX;AACAE,UAAAA,OAAO,CAACC,GAAR,CAAY,WAAS3D,KAAK,CAAC,GAAD,CAA1B;AACL;;AACD,aAAK,IAAL;AACM,eAAKmD,QAAL,CAAc;AAAC/B,YAAAA,QAAQ,EAAE,KAAKpC,KAAL,CAAWoC,QAAX,GAAsB;AAAjC,WAAd;AACLnB,UAAAA,KAAK,CAAC4D,IAAN,CAAW;AAAE,aAACT,EAAD,GAAM,CAAEC,IAAF,EAAQ5D,MAAR,EAAgB8D,GAAhB,EAAqBC,MAArB;AAAR,WAAX;AACA;;AACD,aAAK,IAAL;AACM,eAAKL,QAAL,CAAc;AAAC9B,YAAAA,QAAQ,EAAE,KAAKrC,KAAL,CAAWqC,QAAX,GAAsB;AAAjC,WAAd;AACLnB,UAAAA,KAAK,CAAC2D,IAAN,CAAW;AAAE,aAACT,EAAD,GAAM,CAAEC,IAAF,EAAQ5D,MAAR,EAAgB8D,GAAhB,EAAqBC,MAArB;AAAR,WAAX;AACA;;AACD,aAAK,IAAL;AACM,eAAKL,QAAL,CAAc;AAAC7B,YAAAA,QAAQ,EAAE,KAAKtC,KAAL,CAAWsC,QAAX,GAAsB;AAAjC,WAAd;AACLnB,UAAAA,KAAK,CAAC0D,IAAN,CAAW;AAAE,aAACT,EAAD,GAAM,CAAEC,IAAF,EAAQ5D,MAAR,EAAgB8D,GAAhB,EAAqBC,MAArB;AAAR,WAAX;AACA;;AACD,aAAK,IAAL;AACM,eAAKL,QAAL,CAAc;AAAC5B,YAAAA,OAAO,EAAE,KAAKvC,KAAL,CAAWuC,OAAX,GAAqB;AAA/B,WAAd;AACLnB,UAAAA,IAAI,CAACyD,IAAL,CAAU;AAAE,aAACT,EAAD,GAAM,CAAEC,IAAF,EAAQ5D,MAAR,EAAgB8D,GAAhB,EAAqBC,MAArB;AAAR,WAAV;AACA;;AACD,aAAK,IAAL;AACM,eAAKL,QAAL,CAAc;AAAC3B,YAAAA,QAAQ,EAAE,KAAKxC,KAAL,CAAWwC,QAAX,GAAsB;AAAjC,WAAd;AACLnB,UAAAA,KAAK,CAACwD,IAAN,CAAW;AAAE,aAACT,EAAD,GAAM,CAAEC,IAAF,EAAQ5D,MAAR,EAAgB8D,GAAhB,EAAqBC,MAArB;AAAR,WAAX;AACA;;AACD,aAAK,IAAL;AACM,eAAKL,QAAL,CAAc;AAAC1B,YAAAA,QAAQ,EAAE,KAAKzC,KAAL,CAAWyC,QAAX,GAAsB;AAAjC,WAAd;AACLnB,UAAAA,KAAK,CAACuD,IAAN,CAAW;AAAE,aAACT,EAAD,GAAM,CAAEC,IAAF,EAAQ5D,MAAR,EAAgB8D,GAAhB,EAAqBC,MAArB;AAAR,WAAX;AACA;;AACD,aAAK,IAAL;AACM,eAAKL,QAAL,CAAc;AAACzB,YAAAA,QAAQ,EAAE,KAAK1C,KAAL,CAAW0C,QAAX,GAAsB;AAAjC,WAAd;AACLnB,UAAAA,KAAK,CAACsD,IAAN,CAAW;AAAE,aAACT,EAAD,GAAM,CAAEC,IAAF,EAAQ5D,MAAR,EAAgB8D,GAAhB,EAAqBC,MAArB;AAAR,WAAX;AACA;;AACD,aAAK,IAAL;AACM,eAAKL,QAAL,CAAc;AAACxB,YAAAA,QAAQ,EAAE,KAAK3C,KAAL,CAAW2C,QAAX,GAAsB;AAAjC,WAAd;AACLnB,UAAAA,KAAK,CAACqD,IAAN,CAAW;AAAE,aAACT,EAAD,GAAM,CAAEC,IAAF,EAAQ5D,MAAR,EAAgB8D,GAAhB,EAAqBC,MAArB;AAAR,WAAX;AACA;;AACD;AACM,eAAKL,QAAL,CAAc;AAACvB,YAAAA,SAAS,EAAE,KAAK5C,KAAL,CAAW4C,SAAX,GAAuB;AAAnC,WAAd;AACAnB,UAAAA,WAAW,CAACoD,IAAZ,CAAiB;AAAE,aAACT,EAAD,GAAM,CAAEC,IAAF,EAAQ5D,MAAR,EAAgB8D,GAAhB,EAAqBC,MAArB;AAAR,WAAjB;AACAE,UAAAA,OAAO,CAACC,GAAR,CAAY,SAASL,MAArB;AACA;AA1CJ;AA4CH;AACA;;AAEDT,EAAAA,aAAa,GAAE;AACb,QAAIiB,OAAJ,EAAaC,MAAb;;AAEF,QAAIC,QAAQ,CAACC,cAAT,CAAwB,oBAAxB,KAAiD,IAArD,EAA2D;AAAE;AAC5DH,MAAAA,OAAO,GAAG,SAAV;AACAC,MAAAA,MAAM,GAAG,WAAT;AACA,WAAKZ,QAAL,CAAc;AACTjC,QAAAA,WAAW,EAAE;AADJ,OAAd;AAGA,KAND,MAMM,IAAG8C,QAAQ,CAACC,cAAT,CAAwB,YAAxB,KAAyC,IAA5C,EAAiD;AAAE;AACxDH,MAAAA,OAAO,GAAG,SAAV;AACAC,MAAAA,MAAM,GAAG,WAAT;AACA,WAAKZ,QAAL,CAAc;AACTjC,QAAAA,WAAW,EAAE;AADJ,OAAd;AAGA,KANK,MAMD;AAAE;AACN4C,MAAAA,OAAO,GAAG,SAAV;AACAC,MAAAA,MAAM,GAAG,WAAT;AACG,WAAKZ,QAAL,CAAc;AACZjC,QAAAA,WAAW,EAAE;AADD,OAAd,EAHC,CAMJ;AACE;;AAED,SAAKyB,WAAL,CAAiBmB,OAAjB,EAA2BI,UAAD,IAAgB;AACxC,WAAKvB,WAAL,CAAiBoB,MAAjB,EAA0BI,OAAD,IAAY;AACnC,aAAKhB,QAAL,CAAc;AACZpC,UAAAA,WAAW,EAAE,KAAKgC,SAAL,CAAe,UAAf,EAA0BoB,OAA1B,CADD;AAEZnD,UAAAA,SAAS,EAAE,KAAK+B,SAAL,CAAe,QAAf,EAAwBmB,UAAxB;AAFC,SAAd;AAID,OALD;AAMD,KAPD;AAQD;;AAEDnB,EAAAA,SAAS,CAACqB,IAAD,EAAMC,IAAN,EAAW;AAClB,QAAIC,OAAO,GAAC,EAAZ;AAAA,QAAgBC,OAAO,GAAC,EAAxB;AAAA,QAA4BnB,EAA5B;AAAA,QAAgCC,IAAhC;AAAA,QAAsC5D,MAAtC;AAAA,QAA8C6D,MAA9C;AAAA,QAAsDC,GAAtD;AAAA,QAA2DiB,SAA3D;AACA,UAAMC,MAAM,GAAGJ,IAAI,CAACK,GAAL,CAAUC,IAAI,IAAI;AAC/BJ,MAAAA,OAAO,CAACnB,EAAR,GAAaA,EAAE,GAAGuB,IAAI,CAACvB,EAAvB;AACHmB,MAAAA,OAAO,CAAClB,IAAR,GAAeA,IAAI,GAAGsB,IAAI,CAACtB,IAA3B;AACAkB,MAAAA,OAAO,CAAC9E,MAAR,GAAiBA,MAAM,GAAGkF,IAAI,CAAClF,MAA/B;AACA8E,MAAAA,OAAO,CAACjB,MAAR,GAAiBA,MAAM,GAAGqB,IAAI,CAACC,aAA/B;AACGL,MAAAA,OAAO,CAAChB,GAAR,GAAcA,GAAG,GAAG,KAAKT,SAAL,CAAesB,IAAf,EAAqBf,IAArB,EAA2BsB,IAAI,CAACE,IAAhC,EAAsCF,IAAI,CAACG,UAA3C,CAApB;AACAP,MAAAA,OAAO,CAACC,SAAR,GAAoBA,SAAS,GAAG,KAAKxB,cAAL,CAAoBK,IAApB,EAA0BsB,IAAI,CAACG,UAA/B,CAAhC;AACAR,MAAAA,OAAO,CAAClB,EAAD,CAAP,GAAc,CAACC,IAAD,EAAO5D,MAAP,EAAe6D,MAAf,EAAuBC,GAAvB,EAA4BiB,SAA5B,CAAd,CAP+B,CAQ/B;;AAEA,UAAGJ,IAAI,KAAI,UAAR,IAAsBb,GAAG,KAAK,SAAjC,EAA4C;AAC1C,aAAKJ,QAAL,CAAc;AAAClE,UAAAA,UAAU,EAAE,KAAKD,KAAL,CAAWC,UAAX,GAAuB;AAApC,SAAd;AACA,aAAKiE,qBAAL,CAA2BE,EAA3B,EAA+BC,IAA/B,EAAqC5D,MAArC,EAA6C6D,MAA7C,EAAqDC,GAArD;AACD;;AACD,UAAGa,IAAI,KAAK,QAAZ,EAAsB,KAAKnB,oBAAL,CAA0BxD,MAA1B;AAEtB,aAAO8E,OAAP;AACD,KAjBc,CAAf;;AAkBA,QAAGH,IAAI,KAAG,UAAV,EAAqB;AACnB,WAAKjB,QAAL,CAAc;AAACrD,QAAAA,WAAW,EAAE2E;AAAd,OAAd;AACD,KAFD,MAEK;AACH,WAAKtB,QAAL,CAAc;AAACpD,QAAAA,SAAS,EAAE0E;AAAZ,OAAd;AACD;;AACD,WAAOH,OAAP;AACD;;AAEDxB,EAAAA,SAAS,CAACsB,IAAD,EAAOf,IAAP,EAAawB,IAAb,EAAmBC,UAAnB,EAA8B;AACrC,QAAGD,IAAH,EAAQ;AACT,UAAGA,IAAI,CAAC,oBAAD,CAAP,EAA8B;AAC7B,YAAGA,IAAI,CAAC,oBAAD,CAAJ,CAA2BE,IAA3B,KAAoC,IAAvC,EAA4C;AACtC,cAAGX,IAAI,KAAG,QAAV,EAAoB,KAAKjB,QAAL,CAAc;AAAEhE,YAAAA,aAAa,EAAE,KAAKH,KAAL,CAAWG,aAAX,GAAyB;AAA1C,WAAd;AACpB,iBAAO,SAAP;AACD;;AAAA;AACL;;AACD,UAAG0F,IAAI,CAAC,UAAD,CAAP,EAAoB;AACnB,YAAGA,IAAI,CAAC,UAAD,CAAJ,CAAiBE,IAAjB,KAA0B,IAA7B,EAAkC;AAC5B,cAAGX,IAAI,KAAG,QAAV,EAAoB,KAAKjB,QAAL,CAAc;AAAEhE,YAAAA,aAAa,EAAE,KAAKH,KAAL,CAAWG,aAAX,GAAyB;AAA1C,WAAd;AACpB,iBAAO,WAAP;AACD;;AAAA;AACL;;AACE,UAAG0F,IAAI,CAAC,YAAD,CAAP,EAAuB;AACrB,YAAGA,IAAI,CAAC,YAAD,CAAJ,CAAmBE,IAAnB,KAA4B,IAA/B,EAAoC;AAClC,cAAGX,IAAI,KAAG,QAAV,EAAoB,KAAKjB,QAAL,CAAc;AAAEhE,YAAAA,aAAa,EAAE,KAAKH,KAAL,CAAWG,aAAX,GAAyB;AAA1C,WAAd;AACpB,iBAAO,OAAP;AACD;;AAAA;AACF;;AACD,UAAG0F,IAAI,CAAC,qBAAD,CAAP,EAAgC;AAC9B,YAAGA,IAAI,CAAC,qBAAD,CAAJ,CAA4BE,IAA5B,KAAqC,IAAxC,EAA6C;AAC3C,cAAGX,IAAI,KAAG,QAAV,EAAoB,KAAKjB,QAAL,CAAc;AAAE/D,YAAAA,cAAc,EAAE,KAAKJ,KAAL,CAAWI,cAAX,GAA2B;AAA7C,WAAd;AACpB,iBAAO,QAAP;AACD;;AAAA;AACF;AACF;;AAED,QAAG0F,UAAH,EAAc;AACZ,UAAKA,UAAU,CAAChE,OAAX,IAAsBgE,UAAU,CAAChE,OAAX,CAAmBkE,SAAnB,KAAiC,IAAxD,IACCF,UAAU,CAACjE,MAAX,IAAqBiE,UAAU,CAACjE,MAAX,CAAkBmE,SAAlB,KAAgC,IADtD,IAECF,UAAU,CAAClE,KAAX,IAAoBkE,UAAU,CAAClE,KAAX,CAAiBoE,SAAjB,KAA+B,IAFxD,EAEgE;AAC9D,YAAGZ,IAAI,KAAG,QAAV,EAAoB,KAAKjB,QAAL,CAAc;AAAE9D,UAAAA,gBAAgB,EAAE,KAAKL,KAAL,CAAWK,gBAAX,GAA6B;AAAjD,SAAd;AACpB,eAAO,UAAP;AACD,OALD,MAKK;AAAE;AACL,YAAG+E,IAAI,KAAG,QAAV,EAAoB,KAAKjB,QAAL,CAAc;AAAE7D,UAAAA,eAAe,EAAE,KAAKN,KAAL,CAAWM,eAAX,GAA4B;AAA/C,SAAd;AACpB,eAAO,SAAP;AACD;AACF;;AACHoE,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAuBN,IAAvB,GAA8B,IAA9B,GAAqCwB,IAAjD,EAAwDC,UAAxD;AACA,WAAO,KAAP;AACC;;AAED9B,EAAAA,cAAc,CAACK,IAAD,EAAOyB,UAAP,EAAkB;AAC9B,QAAGA,UAAH,EAAc;AACZ,UAAGA,UAAU,CAAChE,OAAX,IAAsBgE,UAAU,CAAChE,OAAX,CAAmBkE,SAAnB,KAAiC,IAAvD,IAA+DF,UAAU,CAAChE,OAAX,CAAmBmE,cAArF,EAAqG;AACnG,YAAIH,UAAU,CAAChE,OAAX,CAAmBmE,cAAnB,CAAkCrB,MAAlC,CAAyC,CAAzC,EAA4C,EAA5C,MAAoD,YAAxD,EAAsE,OAAO,UAAP;AACvE,OAFD,MAEM,IAAGkB,UAAU,CAACjE,MAAX,IAAqBiE,UAAU,CAACjE,MAAX,CAAkBmE,SAAlB,KAAgC,IAArD,IAA6DF,UAAU,CAACjE,MAAX,CAAkBoE,cAAlF,EAAiG;AACrG,YAAIH,UAAU,CAACjE,MAAX,CAAkBoE,cAAlB,CAAiCrB,MAAjC,CAAwC,CAAxC,EAA2C,EAA3C,MAAiD,YAArD,EAAmE,OAAO,SAAP;AACpE,OAFK,MAEA,IAAGkB,UAAU,CAAClE,KAAX,IAAoBkE,UAAU,CAAClE,KAAX,CAAiBoE,SAAjB,KAA+B,IAAnD,IAA2DF,UAAU,CAAClE,KAAX,CAAiBqE,cAA/E,EAA8F;AAClG,YAAIH,UAAU,CAAClE,KAAX,CAAiBqE,cAAjB,CAAgCrB,MAAhC,CAAuC,CAAvC,EAA0C,EAA1C,MAAgD,YAApD,EAAkE,OAAO,QAAP;AACnE,OAFK,MAEA,IAAGkB,UAAU,CAACnE,OAAX,IAAsBmE,UAAU,CAACnE,OAAX,CAAmBqE,SAAnB,KAAiC,IAAvD,IAA+DF,UAAU,CAACnE,OAAX,CAAmBsE,cAArF,EAAoG;AACxG,YAAIH,UAAU,CAACnE,OAAX,CAAmBsE,cAAnB,CAAkCrB,MAAlC,CAAyC,CAAzC,EAA4C,EAA5C,MAAkD,YAAtD,EAAoE,OAAO,UAAP;AACrE,OAFK,MAEA,IAAGkB,UAAU,CAACpE,QAAX,IAAuBoE,UAAU,CAACpE,QAAX,CAAoBsE,SAApB,KAAkC,IAAzD,IAAiEF,UAAU,CAACpE,QAAX,CAAoBuE,cAAxF,EAAuG;AAC3G,YAAIH,UAAU,CAACpE,QAAX,CAAoBuE,cAApB,CAAmCrB,MAAnC,CAA0C,CAA1C,EAA6C,EAA7C,MAAmD,YAAvD,EAAqE,OAAO,WAAP;AACtE,OAFK,MAED;AAAE;AACL,eAAO,EAAP;AACD;AACF,KAdD,MAcK;AACHF,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiBN,IAAjB,GAAwB,IAApC,EAA2CyB,UAA3C;AACA,aAAO,KAAP;AACD;AACF;;AAEDnC,EAAAA,WAAW,CAACuC,IAAD,EAAOC,QAAP,EAAgB;AACzBC,IAAAA,KAAK,CAAC,YAAUF,IAAV,GAAiB,OAAlB,CAAL,CACCG,IADD,CACMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADlB,EAECF,IAFD,CAEMZ,MAAM,IAAI;AACbU,MAAAA,QAAQ,CAACV,MAAD,CAAR;AACF,KAJD;AAKD;;AAEDe,EAAAA,iBAAiB,GAAE;AACjB,SAAK3C,aAAL;AACD;;AAED4C,EAAAA,MAAM,GAAE;AACN,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,EAAE,EAAC,YAAR;AAAqB,MAAA,SAAS,EAAC,2BAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,WAAD;AACE,MAAA,UAAU,EAAI,KAAKzG,KAAL,CAAWC,UAD3B;AAEE,MAAA,oBAAoB,EAAI,KAAKD,KAAL,CAAWG,aAAX,GAA2B,KAAKH,KAAL,CAAWI,cAAtC,GAAuD,KAAKJ,KAAL,CAAWK,gBAF5F;AAGE,MAAA,aAAa,EAAI,KAAKL,KAAL,CAAWG,aAH9B;AAIE,MAAA,cAAc,EAAI,KAAKH,KAAL,CAAWI,cAJ/B;AAKE,MAAA,gBAAgB,EAAI,KAAKJ,KAAL,CAAWK,gBALjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EASE,oBAAC,oBAAD;AACE,MAAA,SAAS,EAAI,KAAKL,KAAL,CAAWE,SAD1B;AAEE,MAAA,QAAQ,EAAI,KAAKF,KAAL,CAAWU,OAAX,GAAqB,KAAKV,KAAL,CAAWW,SAF9C;AAGE,MAAA,WAAW,EAAI,KAAKX,KAAL,CAAWY,MAAX,GAAoB,KAAKZ,KAAL,CAAWa,OAHhD;AAIE,MAAA,OAAO,EAAI,KAAKb,KAAL,CAAWU,OAJxB;AAKE,MAAA,SAAS,EAAI,KAAKV,KAAL,CAAWW,SAL1B;AAME,MAAA,MAAM,EAAI,KAAKX,KAAL,CAAWY,MANvB;AAOE,MAAA,OAAO,EAAI,KAAKZ,KAAL,CAAWa,OAPxB;AAQE,MAAA,eAAe,EAAI,KAAKb,KAAL,CAAWM,eARhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,CADF,EAqBE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBF,EAsBE,oBAAC,qBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtBF,CADF;AA2BD;;AAlSwB;;AAqS3B,eAAeR,GAAf","sourcesContent":["import React, {Component} from 'react';\nimport '../css/styles.css';\nimport HostHeader from './HostHeader';\nimport HostSummary from './HostSummary';\nimport HostAttendantSummary from './HostAttendantSummary';\nimport HostAttendRate from './HostAttendRate';\nimport HostAttendantByTemple from './HostAttendantByTemple';\n\nclass App extends Component{\n  constructor(){\n    super();\n    this.state = {\n      tolRquired : 0, tolSignin : 0, tolSigninHost : 0, tolSigninAHost : 0,\n      tolSigninDeClass : 0, tolSigninOthers : 0, tolSigninClassMember : 0,\n      age : 0, gender : \"\", tolMale : 0, tolFemale : 0 , tolBoy : 0, tolGirl : 0,\n      requiredArr: [], signinArr: [],\n      zanDe: [], henDe: [], tonDe: [], zenDe: [], zuDe: [], minDe: [], sanDe: [], \n      hanDe: [], zanWa: [],otherTemple: [], xingMing: [], zhiShan: [], peiDe: [], \n      xingDe: [], chongDe: [],\n      requiredObj: {}, signinObj: {}, vowToBeObj: {},\n      classMember: \"\", \n      zanDeReq: 0, henDeReq: 0, tonDeReq: 0, zenDeReq: 0, zuDeReq: 0, minDeReq: 0,\n      sanDeReq: 0, hanDeReq: 0, zanWaReq: 0, othersReq: 0,\n      zanDeSignin: 0, henDeSignin: 0, tonDeSignin: 0, zenDeSignin: 0, zuDeSignin: 0,\n      minDeSignin: 0, sanDeSignin: 0, hanDeSignin: 0, zanWaSignin: 0, othersSignin: 0,\n      templeList: [\n\t\t\t\t[\"zanDe\", [], \"沾德壇\",0,0,0,0,[0,0], [0,0], [0,0], [0,0], [0,0]], \n\t\t\t\t[\"henDe\", [], \"恆德壇\",0,0,0,0,[0,0], [0,0], [0,0], [0,0], [0,0]],\n\t\t\t\t[\"tonDe\", [], \"同德壇\",0,0,0,0,[0,0], [0,0], [0,0], [0,0], [0,0]],\n\t\t\t\t[\"zenDe\", [], \"正德壇\",0,0,0,0,[0,0], [0,0], [0,0], [0,0], [0,0]],\n\t\t\t\t[\"zuDe\",  [],  \"儒德壇\",0,0,0,0,[0,0], [0,0], [0,0], [0,0], [0,0]],\n\t\t\t\t[\"minDe\", [], \"明德壇\",0,0,0,0,[0,0], [0,0], [0,0], [0,0], [0,0]],\n\t\t\t\t[\"sanDe\", [], \"聖德壇\",0,0,0,0,[0,0], [0,0], [0,0], [0,0], [0,0]],\n\t\t\t\t[\"hanDe\", [], \"涵德壇\",0,0,0,0,[0,0], [0,0], [0,0], [0,0], [0,0]],\n\t\t\t\t[\"zanWa\", [], \"贊化壇\",0,0,0,0,[0,0], [0,0], [0,0], [0,0], [0,0]],\n\t\t\t\t[\"otherTemple\", [], \"其它單位\",0,0,0,0,[0,0], [0,0], [0,0], [0,0], [0,0]]\n      ],\n      templeListObj: {\"沾德\": 0, \"恆德\": 1, \"同德\": 2, \"正德\": 3, \"儒德\": 4, \"明德\": 5, \"聖德\": 6, \"涵德\": 7, \"贊化\": 8, \"其它\": 9},\n      classList: [\n\t\t\t\t[\"xingMing\", [], \"新民班\",0,0,0,0],\n\t\t\t\t[\"zhiShan\", [], \"至善班\",0,0,0,0],\n\t\t\t\t[\"peiDe\", [], \"培德班\",0,0,0,0],\n\t\t\t\t[\"xingDe\", [], \"行德班\",0,0,0,0],\n\t\t\t\t[\"chongDe\", [], \"崇德班\",0,0,0,0]\n\t\t  ],\n      classListObj: {\"新民班\": 0, \"至善班\": 1, \"培德班\": 2, \"行德班\": 3, \"崇德班\": 4}\n    }\n    //templeList[]  //tolReq乾，tolReq坤, tolSignin乾，tolSign坤, 新民[tolReq,rolSignin] etc.... [0,0] means no such class in this temple\n    //classList[]   //tolReq乾，tolReq坤, tolSignin乾，tolSign坤\t\n    this.getJsonData = this.getJsonData.bind(this);\n    this.getDataSource = this.getDataSource.bind(this);\n    this.checkVows = this.checkVows.bind(this);\n    this.jsonToObj = this.jsonToObj.bind(this);\n    this.checkGradClass = this.checkGradClass.bind(this);\n    this.genAttendanceSummary = this.genAttendanceSummary.bind(this);\n    this.genReqHostObjByTemple = this.genReqHostObjByTemple.bind(this);\n  }\n\n  genAttendanceSummary(gender){\n    switch(gender){\n      case \"乾\":\n        this.setState({tolMale: this.state.tolMale +1});\n        break;\n      case \"坤\":\n        this.setState({tolFemale: this.state.tolFemale +1});\n        break;\n      case \"童\":\n        this.setState({tolBoy: this.state.tolBoy +1});\n        break;\n      case \"女\":\n        this.setState({tolGirl: this.state.tolGirl +1});\n        break;\n      default:\n        break;\n    }\n    this.setState({tolSignin: this.state.tolSignin +1});\n  }\n\n  genReqHostObjByTemple(id, name, gender, temple, vow){\n    let signin = \"\", zanDe = [], henDe= [], tonDe= [], zenDe= [], zuDe= [], \n        minDe= [], sanDe= [], hanDe= [], zanWa= [],otherTemple= [];\n    \n    if (temple !== undefined){\n      signin = (this.state.signinObj[id] && this.state.signinObj[id]!== undefined) ? \"yes\" : \"x\";\n      console.log(\"id=\"+id);\n      switch (temple.substr(0,2)){\n\t\t\t\tcase \"沾德\":\n\t\t\t\t\tthis.setState({zanDeReq: this.state.zanDeReq + 1});\n          zanDe.push({ [id] :[ name, gender, vow, signin] });\n          console.log(\"zanDe=\"+zanDe[207]);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"恆德\":\n          this.setState({henDeReq: this.state.henDeReq + 1});\n\t\t\t\t\thenDe.push({ [id] :[ name, gender, vow, signin] });\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"同德\":\n          this.setState({tonDeReq: this.state.tonDeReq + 1});\n\t\t\t\t\ttonDe.push({ [id] :[ name, gender, vow, signin] });\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"正德\":\n          this.setState({zenDeReq: this.state.zenDeReq + 1});\n\t\t\t\t\tzenDe.push({ [id] :[ name, gender, vow, signin] });\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"儒德\":\n          this.setState({zuDeReq: this.state.zuDeReq + 1});\n\t\t\t\t\tzuDe.push({ [id] :[ name, gender, vow, signin] });\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"明德\":\n          this.setState({minDeReq: this.state.minDeReq + 1});\n\t\t\t\t\tminDe.push({ [id] :[ name, gender, vow, signin] });\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"聖德\":\n          this.setState({sanDeReq: this.state.sanDeReq + 1});\n\t\t\t\t\tsanDe.push({ [id] :[ name, gender, vow, signin] });\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"涵德\":\n          this.setState({hanDeReq: this.state.hanDeReq + 1});\n\t\t\t\t\thanDe.push({ [id] :[ name, gender, vow, signin] });\n\t\t\t\t\tbreak;\t\n\t\t\t\tcase \"贊化\":\n          this.setState({zanWaReq: this.state.zanWaReq + 1});\n\t\t\t\t\tzanWa.push({ [id] :[ name, gender, vow, signin] });\n\t\t\t\t\tbreak;\t\t\n\t\t\t\tdefault:\n          this.setState({othersReq: this.state.othersReq + 1});\n          otherTemple.push({ [id] :[ name, gender, vow, signin] });\n          console.log(\"其他壇:\" + temple);\n          break;\n\t\t\t}\n\t\t}\n  }\n\n  getDataSource(){\n    let signUrl, reqUrl;\n    \n\t\tif( document.getElementById(\"setup-Temple-class\") != null ){ //Friday \n\t\t\tsignUrl = \"signin5\";\n\t\t\treqUrl = \"required5\";\n\t\t\tthis.setState({\n        classMember: \"hosts\"\n      });\n\t\t}else if(document.getElementById(\"host-class\") != null){ //Saturday\n\t\t\tsignUrl = \"signin6\";\n\t\t\treqUrl = \"required6\";\n\t\t\tthis.setState({\n        classMember: \"hosts\"\n      });\n\t\t}else{ //Sunday \n\t\t\tsignUrl = \"signin7\";\n\t\t\treqUrl = \"required7\";\n      this.setState({\n        classMember: \"class-member\"\n      });\n\t\t\t//getVowToBeData();\n    }\n\n    this.getJsonData(signUrl, (signindata) => {\n      this.getJsonData(reqUrl, (reqdata)=> {\n        this.setState({\n          requiredObj: this.jsonToObj(\"required\",reqdata),\n          signinObj: this.jsonToObj(\"signin\",signindata)\n        });\n      });\n    });\n  }\n\n  jsonToObj(type,data){\n    let dataObj={}, dataArr=[], id, name, gender, temple, vow, gradClass;\n    const result = data.map( item => {\n      dataArr.id = id = item.id;\n\t\t\tdataArr.name = name = item.name;\n\t\t\tdataArr.gender = gender = item.gender;\n\t\t\tdataArr.temple = temple = item.currentTemple;\n      dataArr.vow = vow = this.checkVows(type, name, item.vows, item.taoClasses);\n      dataArr.gradClass = gradClass = this.checkGradClass(name, item.taoClasses);\n      dataObj[id] = [name, gender, temple, vow, gradClass];\n      //if(vow === \"6others\") console.log(\"currObj=\"+dataObj[id]);\n\n      if(type ===\"required\" && vow !== \"6others\") {\n        this.setState({tolRquired: this.state.tolRquired +1});\n        this.genReqHostObjByTemple(id, name, gender, temple, vow);\n      }\n      if(type === \"signin\") this.genAttendanceSummary(gender);\n\n      return dataArr;\n    });\n    if(type===\"required\"){\n      this.setState({requiredArr: result});\n    }else{\n      this.setState({signinArr: result});\n    }\n    return dataObj;\n  }\n\n  checkVows(type, name, vows, taoClasses){\n    if(vows){\n\t\t\tif(vows[\"transmittingMaster\"]){\n\t\t\t\tif(vows[\"transmittingMaster\"].made === true){\n          if(type===\"signin\") this.setState({ tolSigninHost: this.state.tolSigninHost+1});\n          return \"1master\";\n        };\n\t\t\t}\n\t\t\tif(vows[\"lecturer\"]){\n\t\t\t\tif(vows[\"lecturer\"].made === true){\n          if(type===\"signin\") this.setState({ tolSigninHost: this.state.tolSigninHost+1});\n          return \"2lecturer\";\n        };\n\t\t\t}\n      if(vows[\"templeHost\"]) {\n        if(vows[\"templeHost\"].made === true){\n          if(type===\"signin\") this.setState({ tolSigninHost: this.state.tolSigninHost+1});\n          return \"3host\";\n        };\n      }\t\n      if(vows[\"assistantTempleHost\"]) {\n        if(vows[\"assistantTempleHost\"].made === true){\n          if(type===\"signin\") this.setState({ tolSigninAHost: this.state.tolSigninAHost +1});\n          return \"4ahost\";\n        };\n      }\n    }\n\n    if(taoClasses){\n      if( (taoClasses.chongDe && taoClasses.chongDe.completed === true) ||\n          (taoClasses.xingDe && taoClasses.xingDe.completed === true) ||\n          (taoClasses.peiDe && taoClasses.peiDe.completed === true) ) {\n        if(type===\"signin\") this.setState({ tolSigninDeClass: this.state.tolSigninDeClass +1});\n        return \"5declass\";\n      }else{ //others \n        if(type===\"signin\") this.setState({ tolSigninOthers: this.state.tolSigninOthers +1});\n        return \"6others\";\n      }\n    }\n\t\tconsole.log(\"no vow nor declass\" + name + \": \" + vows , taoClasses);\n\t\treturn false;\n  }\n\n  checkGradClass(name, taoClasses){\n    if(taoClasses){\n      if(taoClasses.chongDe && taoClasses.chongDe.completed === true && taoClasses.chongDe.completionDate) {\n        if (taoClasses.chongDe.completionDate.substr(0, 10) === \"2018-12-09\") return \"5chongDe\";\n      }else if(taoClasses.xingDe && taoClasses.xingDe.completed === true && taoClasses.xingDe.completionDate){\n        if (taoClasses.xingDe.completionDate.substr(0, 10)===\"2018-12-09\") return \"4xingDe\";\n      }else if(taoClasses.peiDe && taoClasses.peiDe.completed === true && taoClasses.peiDe.completionDate){\n        if (taoClasses.peiDe.completionDate.substr(0, 10)===\"2018-12-09\") return \"3peiDe\";\n      }else if(taoClasses.zhiShan && taoClasses.zhiShan.completed === true && taoClasses.zhiShan.completionDate){\n        if (taoClasses.zhiShan.completionDate.substr(0, 10)===\"2018-12-09\") return \"2zhiShan\";\n      }else if(taoClasses.xingMing && taoClasses.xingMing.completed === true && taoClasses.xingMing.completionDate){\n        if (taoClasses.xingMing.completionDate.substr(0, 10)===\"2018-12-09\") return \"1xingMing\";\n      }else{ //others \n        return \"\";\n      }\n    }else{\n      console.log(\"no grad lass\" + name + \": \" , taoClasses);\n      return false;\n    }\n  }\n\n  getJsonData(_url, callback){\n    fetch('./json/'+_url + '.json')\n    .then(response => response.json())\n    .then(result => {\n       callback(result);\n    });\n  }\n\n  componentDidMount(){\n    this.getDataSource();\n  }\n\n  render(){\n    return(\n      <div>\n        <div id=\"host-class\" className=\"main-container event-name\">\n          <HostHeader/>\n          <HostSummary\n            tolRquired = {this.state.tolRquired}\n            tolSigninClassMember = {this.state.tolSigninHost + this.state.tolSigninAHost + this.state.tolSigninDeClass}\n            tolSigninHost = {this.state.tolSigninHost}\n            tolSigninAHost = {this.state.tolSigninAHost}\n            tolSigninDeClass = {this.state.tolSigninDeClass}\n          />\n          <HostAttendantSummary\n            tolSignin = {this.state.tolSignin}\n            tolAdult = {this.state.tolMale + this.state.tolFemale}\n            tolChildren = {this.state.tolBoy + this.state.tolGirl}\n            tolMale = {this.state.tolMale}\n            tolFemale = {this.state.tolFemale}\n            tolBoy = {this.state.tolBoy}\n            tolGirl = {this.state.tolGirl}\n            tolSigninOthers = {this.state.tolSigninOthers}\n          />\n        </div>\n        <HostAttendRate/>\n        <HostAttendantByTemple/>\n      </div>\n      \n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}